(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{466:function(t,e,n){(function(t){!function(e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(n),r={matchST_ATTRIBUTE:function(){let t=0,e=this.input();if(this.is_WHITESPACE()){do{e=this.input()}while(this.is_WHITESPACE());return this.unput(1),null}switch(e){case"]":return 0===t?this.popState():t--,"]";case"(":case")":case":":case"=":return this.consume_TOKEN();case"[":return t++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":if("/"===this._input[this.offset])return this.T_COMMENT();if("*"===this._input[this.offset])return this.input(),this.T_DOC_COMMENT()}if(this.is_LABEL_START()||"\\"===e){for(;this.offset<this.size;){const t=this.input();if(!this.is_LABEL()&&"\\"!==t){t&&this.unput(1);break}}return this.tok.T_STRING}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(e,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}};r.matchST_ATTRIBUTE;var o={T_COMMENT:function(){for(;this.offset<this.size;){const t=this.input();if("\n"===t||"\r"===t)return this.tok.T_COMMENT;if("?"===t&&!this.aspTagMode&&">"===this._input[this.offset])return this.unput(1),this.tok.T_COMMENT;if("%"===t&&this.aspTagMode&&">"===this._input[this.offset])return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){let t=this.input(),e=this.tok.T_COMMENT;if("*"===t){if(t=this.input(),this.is_WHITESPACE()&&(e=this.tok.T_DOC_COMMENT),"/"===t)return e;this.unput(1)}for(;this.offset<this.size;)if(t=this.input(),"*"===t&&"/"===this._input[this.offset]){this.input();break}return e}};o.T_COMMENT,o.T_DOC_COMMENT;var h={nextINITIAL:function(){return this.conditionStack.length>1&&"INITIAL"===this.conditionStack[this.conditionStack.length-1]?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){let t=this.input();if("<"==t)if(t=this.ahead(1),"?"==t){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&(t=this._input[this.offset+4]," "===t||"\t"===t||"\n"===t||"\r"===t)){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&"%"==t){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}};h.nextINITIAL,h.matchINITIAL;var c={consume_NUM:function(){let t=this.yytext[0],e="."===t;if("0"===t)if(t=this.input(),"x"===t||"X"===t){if(t=this.input(),"_"!==t&&this.is_HEX())return this.consume_HNUM();this.unput(t?2:1)}else if("b"===t||"B"===t){if(t=this.input(),"_"!==t&&"0"===t||"1"===t)return this.consume_BNUM();this.unput(t?2:1)}else this.is_NUM()||t&&this.unput(1);for(;this.offset<this.size;){const i=t;if(t=this.input(),"_"===t){if("_"===i){this.unput(2);break}if("."===i){this.unput(1);break}if("e"===i||"E"===i){this.unput(2);break}}else{if("."===t){if(e){this.unput(1);break}if("_"===i){this.unput(2);break}e=!0;continue}if("e"===t||"E"===t){if("_"===i){this.unput(1);break}let e=2;if(t=this.input(),"+"!==t&&"-"!==t||(e=3,t=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?e:e-1);break}}if(!this.is_NUM()){t&&this.unput(1);break}}return e?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||10==this.yytext.length&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_HEX()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_NUM()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){let t;for(;this.offset<this.size;)if(t=this.input(),"0"!==t&&"1"!==t&&"_"!==t){t&&this.unput(1);break}return this.tok.T_LNUMBER}};c.consume_NUM,c.consume_HNUM,c.consume_LNUM,c.consume_BNUM;var a={matchST_LOOKING_FOR_PROPERTY:function(){let t=this.input();if("-"===t){if(t=this.input(),">"===t)return this.tok.T_OBJECT_OPERATOR;t&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),t&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){let t=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),t=this.input(),"["===t||"}"===t)return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else t&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){const t=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if("]"===t)return this.popState(),"]";if("$"===t){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||"\\"===t||"'"===t||"#"===t)return this.tok.T_ENCAPSED_AND_WHITESPACE;if("["===t||"{"===t||"}"===t||'"'===t||"`"===t||this.is_TOKEN())return t;throw new Error("Unexpected terminal")}};a.matchST_LOOKING_FOR_PROPERTY,a.matchST_LOOKING_FOR_VARNAME,a.matchST_VAR_OFFSET;var l={matchST_IN_SCRIPTING:function(){let t=this.input();switch(t){case" ":case"\t":case"\n":case"\r":case"\r\n":return this.T_WHITESPACE();case"#":return this.version>=800&&"["===this._input[this.offset]?(this.input(),this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return"/"===this._input[this.offset]?this.T_COMMENT():"*"===this._input[this.offset]?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();const t=this._input[this.offset];return"\n"!==t&&"\r"!==t||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&">"===this._input[this.offset]?(this.input(),t=this._input[this.offset],"\n"!==t&&"\r"!==t||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if("."===t){if(t=this.input(),this.is_NUM_START())return this.consume_NUM();t&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+t+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){const t=this.input();if(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t){t&&this.unput(1);break}}return this.tok.T_WHITESPACE}};l.matchST_IN_SCRIPTING,l.T_WHITESPACE;const _=["\n","\r"],d=["\n","\r",";"],u=d.concat(["\t"," ",",","]",")","/","=","!"]);var f={T_CONSTANT_ENCAPSED_STRING:function(){let t;for(;this.offset<this.size;)if(t=this.input(),"\\"==t)this.input();else if("'"==t)break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){const t=this.offset;if("<"===this._input[this.offset-1]&&"<"===this._input[this.offset]&&"<"===this._input[this.offset+1]){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););let e=this._input[this.offset-1];if("'"===e||'"'===e?this.offset++:e=null,this.is_LABEL_START()){let i=this.offset-1;for(;this.offset<this.size&&(this.offset++,this.is_LABEL()););const s=this._input.substring(i,this.offset-1);if((!e||e===this._input[this.offset-1])&&(e&&this.offset++,_.includes(this._input[this.offset-1])))return this.heredoc_label.label=s,this.heredoc_label.length=s.length,this.heredoc_label.finished=!1,i=this.offset-t,this.offset=t,this.consume(i),"'"===e?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=t,!1},ST_DOUBLE_QUOTES:function(){let t;for(;this.offset<this.size;)if(t=this.input(),"\\"==t)this.input();else{if('"'==t)break;if("$"==t){if(t=this.input(),"{"==t||this.is_LABEL_START()){this.unput(2);break}t&&this.unput(1)}else if("{"==t){if(t=this.input(),"$"==t){this.unput(2);break}t&&this.unput(1)}}if('"'==t)return this.tok.T_CONSTANT_ENCAPSED_STRING;{let t=1;return"b"!==this.yytext[0]&&"B"!==this.yytext[0]||(t=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-t),this.unput(this.yytext.length-t),this.begin("ST_DOUBLE_QUOTES"),this.yytext}},isDOC_MATCH:function(t,e){const i=this._input[t-2];if(!_.includes(i))return!1;let s=!1,n=!1,r=0,o=this._input[t-1];if(this.version>=703){for(;"\t"===o||" "===o;)" "===o?s=!0:"\t"===o&&(n=!0),o=this._input[t+r],r++;if(t+=r,_.includes(this._input[t-1]))return!1}if(this._input.substring(t-1,t-1+this.heredoc_label.length)===this.heredoc_label.label){const i=this._input[t-1+this.heredoc_label.length];if((this.version>=703?u:d).includes(i)){if(e){if(this.consume(r),s&&n)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=r,this.heredoc_label.indentation_uses_spaces=s,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;let t=this.offset+1;for(;t<this._input.length;){if(this.isDOC_MATCH(t,!1))return;if(!_.includes(this._input[t-1]))for(;!_.includes(this._input[t++])&&t<this._input.length;);t++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;let t=this._input[this.offset-1];for(;this.offset<this.size;)if(_.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){let t=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if("\\"===t&&(t=this.input(),_.includes(t)||(t=this.input())),_.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if("$"===t){if(t=this.input(),"{"===t)return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const t=this.offset,e=this.consume_VARIABLE();return this.yytext.length>this.offset-t+2?(this.appendToken(e,this.offset-t+2),this.unput(this.offset-t+2),this.tok.T_ENCAPSED_AND_WHITESPACE):e}}else if("{"===t){if(t=this.input(),"$"===t)return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();const t=this.input();if("["==t)return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if("-"===t){if(">"===this.input())return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else t&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){let t=this.input();if("$"===t){if(t=this.input(),"{"===t)return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if("{"===t){if("$"===this._input[this.offset])return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if("`"===t)return this.popState(),"`";for(;this.offset<this.size;){if("\\"===t)this.input();else{if("`"===t){this.unput(1),this.popState(),this.appendToken("`",1);break}if("$"===t){if(t=this.input(),"{"===t)return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const t=this.offset,e=this.consume_VARIABLE();return this.yytext.length>this.offset-t+2?(this.appendToken(e,this.offset-t+2),this.unput(this.offset-t+2),this.tok.T_ENCAPSED_AND_WHITESPACE):e}continue}if("{"===t){if(t=this.input(),"$"===t)return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){let t=this.input();if("$"===t){if(t=this.input(),"{"===t)return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if("{"===t){if("$"===this._input[this.offset])return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if('"'===t)return this.popState(),'"';for(;this.offset<this.size;){if("\\"===t)this.input();else{if('"'===t){this.unput(1),this.popState(),this.appendToken('"',1);break}if("$"===t){if(t=this.input(),"{"===t)return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){const t=this.offset,e=this.consume_VARIABLE();return this.yytext.length>this.offset-t+2?(this.appendToken(e,this.offset-t+2),this.unput(this.offset-t+2),this.tok.T_ENCAPSED_AND_WHITESPACE):e}t&&this.unput(1)}else if("{"===t){if(t=this.input(),"$"===t)return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);t&&this.unput(1)}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}};f.T_CONSTANT_ENCAPSED_STRING,f.is_HEREDOC,f.ST_DOUBLE_QUOTES,f.isDOC_MATCH,f.prematch_ENDOFDOC,f.matchST_NOWDOC,f.matchST_HEREDOC,f.consume_VARIABLE,f.matchST_BACKQUOTE,f.matchST_DOUBLE_QUOTES;var p={T_STRING:function(){const t=this.yytext.toLowerCase();let e=this.keywords[t];if("number"!=typeof e)if("yield"===t)this.version>=700&&this.tryMatch(" from")?(this.consume(5),e=this.tok.T_YIELD_FROM):e=this.tok.T_YIELD;else if(e=this.tok.T_STRING,"b"===t||"B"===t){const t=this.input(1);if('"'===t)return this.ST_DOUBLE_QUOTES();if("'"===t)return this.T_CONSTANT_ENCAPSED_STRING();t&&this.unput(1)}return e},consume_TOKEN:function(){const t=this._input[this.offset-1],e=this.tokenTerminals[t];return e?e.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){const t=this._input[this.offset];return">"===t?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):"-"===t?(this.input(),this.tok.T_DEC):"="===t?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){return this.tok.T_NS_SEPARATOR},"/":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return":"===this._input[this.offset]?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){const t=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){const t=this.yytext.length;this.consume_LABEL();const e=this.yytext.substring(t-1).toLowerCase(),i=this.castKeywords[e];if("number"==typeof i&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),")"===this._input[this.offset-1]))return i}return this.unput(this.offset-t),"("},"=":function(){const t=this._input[this.offset];return">"===t?(this.input(),this.tok.T_DOUBLE_ARROW):"="===t?"="===this._input[this.offset+1]?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){const t=this._input[this.offset];return"+"===t?(this.input(),this.tok.T_INC):"="===t?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return"="===this._input[this.offset]?"="===this._input[this.offset+1]?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&"?"===this._input[this.offset]?this.version>=704&&"="===this._input[this.offset+1]?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&"-"===this._input[this.offset]&&">"===this._input[this.offset+1]?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){let t=this._input[this.offset];return"<"===t?(t=this._input[this.offset+1],"="===t?(this.consume(2),this.tok.T_SL_EQUAL):"<"===t&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL)):"="===t?(this.input(),this.version>=700&&">"===this._input[this.offset]?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):">"===t?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){let t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):">"===t?(t=this._input[this.offset+1],"="===t?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR)):">"},"*":function(){const t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_MUL_EQUAL):"*"===t?(this.input(),"="===this._input[this.offset]?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){const t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_CONCAT_EQUAL):"."===t&&"."===this._input[this.offset+1]?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){const t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_AND_EQUAL):"&"===t?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){const t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_OR_EQUAL):"|"===t?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_XOR_EQUAL):"^"}}};p.T_STRING,p.consume_TOKEN,p.tokenTerminals;var T={is_NUM:function(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||95===t},is_NUM_START:function(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58},is_LABEL:function(){const t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||95===t||t>47&&t<58||t>126},is_LABEL_START:function(){const t=this._input.charCodeAt(this.offset-1);return t>64&&t<91||t>96&&t<123||95===t||t>126},consume_LABEL:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_LABEL()){t&&this.unput(1);break}}return this},is_TOKEN:function(){const t=this._input[this.offset-1];return-1!==";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(t)},is_WHITESPACE:function(){const t=this._input[this.offset-1];return" "===t||"\t"===t||"\n"===t||"\r"===t},is_TABSPACE:function(){const t=this._input[this.offset-1];return" "===t||"\t"===t},consume_TABSPACE:function(){for(;this.offset<this.size;){const t=this.input();if(!this.is_TABSPACE()){t&&this.unput(1);break}}return this},is_HEX:function(){const t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t>64&&t<71||t>96&&t<103||95===t}};T.is_NUM,T.is_NUM_START,T.is_LABEL,T.is_LABEL_START,T.consume_LABEL,T.is_TOKEN,T.is_WHITESPACE,T.is_TABSPACE,T.consume_TABSPACE,T.is_HEX;const k=function(t){this.engine=t,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=800,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};k.prototype.setInput=function(t){return this._input=t,this.size=t.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},k.prototype.input=function(){const t=this._input[this.offset];return t?(this.yytext+=t,this.offset++,"\r"===t&&"\n"===this._input[this.offset]&&(this.yytext+="\n",this.offset++),"\n"===t||"\r"===t?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,t):""},k.prototype.unput=function(t){if(1===t)this.offset--,"\n"===this._input[this.offset]&&"\r"===this._input[this.offset-1]&&(this.offset--,t++),"\r"===this._input[this.offset]||"\n"===this._input[this.offset]?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-t);else if(t>0)if(this.offset-=t,t<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-t),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(let t=0;t<this.yytext.length;t++){let e=this.yytext[t];"\r"===e?(e=this.yytext[++t],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,"\n"!==e&&("\r"===e?this.yylloc.last_line++:this.yylloc.last_column++)):"\n"===e?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},k.prototype.tryMatch=function(t){return t===this.ahead(t.length)},k.prototype.tryMatchCaseless=function(t){return t===this.ahead(t.length).toLowerCase()},k.prototype.ahead=function(t){let e=this._input.substring(this.offset,this.offset+t);return"\r"===e[e.length-1]&&"\n"===this._input[this.offset+t+1]&&(e+="\n"),e},k.prototype.consume=function(t){for(let e=0;e<t;e++){const t=this._input[this.offset];if(!t)break;this.yytext+=t,this.offset++,"\r"===t&&"\n"===this._input[this.offset]&&(this.yytext+="\n",this.offset++,e++),"\n"===t||"\r"===t?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},k.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},k.prototype.setState=function(t){return this.yytext=t.yytext,this.offset=t.offset,this.yylineno=t.yylineno,this.yyprevcol=t.yyprevcol,this.yylloc=t.yylloc,t.heredoc_label&&(this.heredoc_label=t.heredoc_label),this},k.prototype.appendToken=function(t,e){return this.tokens.push([t,e]),this},k.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;let t=this.next()||this.lex();if(!this.all_tokens){for(;t===this.tok.T_WHITESPACE||!this.comment_tokens&&(t===this.tok.T_COMMENT||t===this.tok.T_DOC_COMMENT)||t===this.tok.T_OPEN_TAG;)t=this.next()||this.lex();if(t==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(t===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),t},k.prototype.begin=function(t){if(this.conditionStack.push(t),this.curCondition=t,this.stateCb=this["match"+t],"function"!=typeof this.stateCb)throw new Error('Undefined condition state "'+t+'"');return this},k.prototype.popState=function(){const t=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],"function"!=typeof this.stateCb)throw new Error('Undefined condition state "'+this.curCondition+'"');return t},k.prototype.next=function(){let t;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(t=this.tokens.shift(),"object"==typeof t[1]?this.setState(t[1]):this.consume(t[1]),t=t[0]):t=this.stateCb.apply(this,[]),this.offset>=this.size&&0===this.tokens.length&&(this.done=!0),this.debug){let e=t;e="number"==typeof e?this.engine.tokens.values[e]:'"'+e+'"';const i=new Error(e+"\tfrom "+this.yylloc.first_line+","+this.yylloc.first_column+"\t - to "+this.yylloc.last_line+","+this.yylloc.last_column+'\t"'+this.yytext+'"');console.error(i.stack)}return t},[r,o,h,c,a,l,f,p,T].forEach((function(t){for(const e in t)k.prototype[e]=t[e]}));var E=k,m=function(t,e,i){this.line=t,this.column=e,this.offset=i},x={read_array:function(){let t=null,e=!1;const i=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),t=")"):(e=!0,t="]");let s=[];return this.next().token!==t&&(s=this.read_array_pair_list(e)),this.expect(t),this.next(),i(e,s)},read_array_pair_list:function(t){const e=this;return this.read_list((function(){return e.read_array_pair(t)}),",",!0)},read_array_pair:function(t){if(!t&&")"===this.token||t&&"]"===this.token)return;if(","===this.token)return this.node("noop")();const e=this.node("entry");let i=null,s=null,n=!1,r=!1;if("&"===this.token)this.next(),n=!0,s=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),"&"===this.token&&this.error(),r=!0,s=this.read_expr();else{const t=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),i=t,"&"===this.token?(this.next(),n=!0,s=this.read_variable(!0,!1)):s=this.read_expr()):s=t}return e(i,s,n,r)}};x.read_array,x.read_array_pair_list,x.read_array_pair;var y={read_class_declaration_statement:function(t){const e=this.node("class"),i=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);let s=this.node("identifier");const n=this.text();this.next(),s=s(n);const r=this.read_extends_from(),o=this.read_implements_list();this.expect("{");const h=e(s,r,o,this.next().read_class_body(),i);return t&&(h.attrGroups=t),h},read_class_modifiers:function(){return[0,0,this.read_class_modifier()]},read_class_modifier:function(){return this.token===this.tok.T_ABSTRACT?(this.next(),1):this.token===this.tok.T_FINAL?(this.next(),2):0},read_class_body:function(){let t=[],e=[];for(;this.token!==this.EOF&&"}"!==this.token;){if(this.token===this.tok.T_COMMENT){t.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){t.push(this.read_doc_comment());continue}if(this.token===this.tok.T_USE){t=t.concat(this.read_trait_use_statement());continue}this.token===this.tok.T_ATTRIBUTE&&(e=this.read_attr_list());const i=this.position(),s=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),s[0]=null,s[1]=0),this.token===this.tok.T_FUNCTION)t.push(this.read_function(!1,s,e,i)),e=[];else if(this.token===this.tok.T_VARIABLE||this.version>=704&&("?"===this.token||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_ARRAY||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE)){const i=this.read_variable_list(s,e);e=[],this.expect(";"),this.next(),t=t.concat(i)}else this.error([this.tok.T_CONST,this.tok.T_VARIABLE,this.tok.T_FUNCTION]),this.next();else{const i=this.read_constant_list(s,e);this.expect(";")&&this.next(),t=t.concat(i)}}return this.expect("}"),this.next(),t},read_variable_list:function(t,e){const i=this.node("propertystatement"),s=this.read_list((function(){const t=this.node("property"),[i,s]=this.read_optional_type();this.expect(this.tok.T_VARIABLE);let n=this.node("identifier");const r=this.text().substring(1);return this.next(),n=n(r),";"===this.token||","===this.token?t(n,null,i,s,e||[]):"="===this.token?t(n,this.next().read_expr(),i,s,e||[]):(this.expect([",",";","="]),t(n,null,i,s,e||[]))}),",");return i(null,s,t)},read_constant_list:function(t,e){this.expect(this.tok.T_CONST)&&this.next();const i=this.node("classconstant"),s=this.read_list((function(){const t=this.node("constant");let e=null,i=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){e=this.node("identifier");const t=this.text();this.next(),e=e(t)}else this.expect("IDENTIFIER");return this.expect("=")&&(i=this.next().read_expr()),t(e,i)}),",");return i(null,s,t,e||[])},read_member_flags:function(t){const e=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){let i=0,s=0;do{switch(this.token){case this.tok.T_PUBLIC:i=0,s=0;break;case this.tok.T_PROTECTED:i=0,s=1;break;case this.tok.T_PRIVATE:i=0,s=2;break;case this.tok.T_STATIC:i=1,s=1;break;case this.tok.T_ABSTRACT:i=2,s=1;break;case this.tok.T_FINAL:i=2,s=2}t&&(0==i&&2==s?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),s=-1):2==i&&1==s&&(this.error(),s=-1)),-1!==e[i]?this.error():-1!==s&&(e[i]=s)}while(this.next().is("T_MEMBER_FLAGS"))}return-1==e[1]&&(e[1]=0),-1==e[2]&&(e[2]=0),e},read_optional_type:function(){let t=!1;"?"===this.token&&(t=!0,this.next());let e=this.read_types();if(t&&!e&&this.raiseError("Expecting a type definition combined with nullable operator"),!t&&!e)return[!1,null];if("|"===this.token){e=[e];do{this.next();const t=this.read_type();if(!t){this.raiseError("Expecting a type definition");break}e.push(t)}while("|"===this.token)}return[t,e]},read_interface_declaration_statement:function(t){const e=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier");const s=this.text();this.next(),i=i(s);const n=this.read_interface_extends_list();return this.expect("{"),e(i,n,this.next().read_interface_body(),t||[])},read_interface_body:function(){let t=[],e=[];for(;this.token!==this.EOF&&"}"!==this.token;){if(this.token===this.tok.T_COMMENT){t.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){t.push(this.read_doc_comment());continue}const i=this.position();e=this.read_attr_list();const s=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){const i=this.read_constant_list(s,e);this.expect(";")&&this.next(),t=t.concat(i),e=[]}else if(this.token===this.tok.T_FUNCTION){const n=this.read_function_declaration(2,s,e,i);n.parseFlags(s),t.push(n),this.expect(";")&&this.next(),e=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}return this.expect("}")&&this.next(),t},read_trait_declaration_statement:function(){const t=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);let e=this.node("identifier");const i=this.text();return this.next(),e=e(i),this.expect("{"),t(e,this.next().read_class_body())},read_trait_use_statement:function(){const t=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();const e=[this.read_namespace_name()];let i=null;for(;","===this.token;)e.push(this.next().read_namespace_name());if("{"===this.token){for(i=[];this.next().token!==this.EOF&&"}"!==this.token;)i.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return t(e,i)},read_trait_use_alias:function(){const t=this.node();let e,i=null;if(this.is("IDENTIFIER")){e=this.node("identifier");const t=this.text();this.next(),e=e(t)}else if(e=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){i=e,e=this.node("identifier");const t=this.text();this.next(),e=e(t)}else this.expect(this.tok.T_STRING);else e=e.name;if(this.token===this.tok.T_INSTEADOF)return t("traitprecedence",i,e,this.next().read_name_list());if(this.token===this.tok.T_AS){let s=null,n=null;if(this.next().is("T_MEMBER_FLAGS")&&(s=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){n=this.node("identifier");const t=this.text();this.next(),n=n(t)}else!1===s&&this.expect(this.tok.T_STRING);return t("traitalias",i,e,n,s)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),t("traitalias",i,e,null,null)}};y.read_class_declaration_statement,y.read_class_modifiers,y.read_class_modifier,y.read_class_body,y.read_variable_list,y.read_constant_list,y.read_member_flags,y.read_optional_type,y.read_interface_declaration_statement,y.read_interface_body,y.read_trait_declaration_statement,y.read_trait_use_statement,y.read_trait_use_alias;var A={read_comment:function(){const t=this.text();let e=this.ast.prepare("/*"===t.substring(0,2)?"commentblock":"commentline",null,this);const i=this.lexer.yylloc.first_offset,s=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),e=e(t),e.offset=i,this.prev=s,e},read_doc_comment:function(){let t=this.ast.prepare("commentblock",null,this);const e=this.lexer.yylloc.first_offset,i=this.text(),s=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),t=t(i),t.offset=e,this.prev=s,t}};A.read_comment,A.read_doc_comment;var N={read_expr:function(t){const e=this.node();if("@"===this.token)return t||(t=this.next().read_expr()),e("silent",t);if(t||(t=this.read_expr_item()),"|"===this.token)return e("bin","|",t,this.next().read_expr());if("&"===this.token)return e("bin","&",t,this.next().read_expr());if("^"===this.token)return e("bin","^",t,this.next().read_expr());if("."===this.token)return e("bin",".",t,this.next().read_expr());if("+"===this.token)return e("bin","+",t,this.next().read_expr());if("-"===this.token)return e("bin","-",t,this.next().read_expr());if("*"===this.token)return e("bin","*",t,this.next().read_expr());if("/"===this.token)return e("bin","/",t,this.next().read_expr());if("%"===this.token)return e("bin","%",t,this.next().read_expr());if(this.token===this.tok.T_POW)return e("bin","**",t,this.next().read_expr());if(this.token===this.tok.T_SL)return e("bin","<<",t,this.next().read_expr());if(this.token===this.tok.T_SR)return e("bin",">>",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return e("bin","||",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return e("bin","or",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return e("bin","&&",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return e("bin","and",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return e("bin","xor",t,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return e("bin","===",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return e("bin","!==",t,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return e("bin","==",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return e("bin","!=",t,this.next().read_expr());if("<"===this.token)return e("bin","<",t,this.next().read_expr());if(">"===this.token)return e("bin",">",t,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return e("bin","<=",t,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return e("bin",">=",t,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return e("bin","<=>",t,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(t=e("bin","instanceof",t,this.next().read_class_name_reference()),";"!==this.token&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(t=this.read_expr(t))),this.token===this.tok.T_COALESCE)return e("bin","??",t,this.next().read_expr());if("?"===this.token){let i=null;return":"!==this.next().token&&(i=this.read_expr()),this.expect(":")&&this.next(),e("retif",t,i,this.read_expr())}return e.destroy(t),t},read_expr_cast:function(t){return this.node("cast")(t,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){let t=null;switch(this.token){case this.tok.T_ISSET:{t=this.node("isset"),this.next().expect("(")&&this.next();const e=this.read_isset_variables();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_EMPTY:{t=this.node("empty"),this.next().expect("(")&&this.next();const e=this.read_expr();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_INCLUDE:t=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:t=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:{t=this.node("eval"),this.next().expect("(")&&this.next();const e=this.read_expr();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_REQUIRE:t=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:t=this.node("include")(!0,!0,this.next().read_expr())}return t},read_optional_expr:function(t){return this.token!==t?this.read_expr():null},read_exit_expr:function(){let t=null;return"("===this.token&&(this.next(),t=this.read_optional_expr(")"),this.expect(")")&&this.next()),t},read_expr_item:function(){let t,e,i=[];if("+"===this.token)return this.node("unary")("+",this.next().read_expr());if("-"===this.token)return this.node("unary")("-",this.next().read_expr());if("!"===this.token)return this.node("unary")("!",this.next().read_expr());if("~"===this.token)return this.node("unary")("~",this.next().read_expr());if("("===this.token)return e=this.next().read_expr(),e.parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(e);if("`"===this.token)return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){let e=null;const i=this.innerList;t=this.node("list"),i||(e=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);const s=this.read_array_pair_list(!1);this.expect(")")&&this.next();let n=!1;for(let t=0;t<s.length;t++)if(null!==s[t]&&"noop"!==s[t].kind){n=!0;break}return n||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),i?t(s,!1):(this.innerList=!1,this.expect("=")?e(t(s,!1),this.next().read_expr(),"="):t(s,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(i=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(-1!==this.text().indexOf("binary")?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:{const e="die"===this.lexer.yytext.toLowerCase();return t=this.node("exit"),this.next(),t(this.read_exit_expr(),e)}case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:{let e=null,i=null;return t=this.node("yield"),this.next().is("EXPR")&&(e=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(i=e,e=this.next().read_expr())),t(e,i)}case this.tok.T_YIELD_FROM:return t=this.node("yieldfrom"),e=this.next().read_expr(),t(e);case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,i);case this.tok.T_STATIC:{const t=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],i);this.lexer.tokens.push(t),this.next()}}if(this.is("VARIABLE")){t=this.node(),e=this.read_variable(!1,!1);const i="identifier"===e.kind||"staticlookup"===e.kind&&"identifier"===e.offset.kind;switch(this.token){case"=":return i&&this.error("VARIABLE"),"&"==this.next().token?this.read_assignref(t,e):t("assign",e,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return i&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"??=");case this.tok.T_INC:return i&&this.error("VARIABLE"),this.next(),t("post","+",e);case this.tok.T_DEC:return i&&this.error("VARIABLE"),this.next(),t("post","-",e);default:t.destroy(e)}}else{if(this.is("SCALAR")){if(t=this.node(),e=this.read_scalar(),"array"===e.kind&&e.shortForm&&"="===this.token){const i=this.convertToList(e);return e.loc&&(i.loc=e.loc),t("assign",i,this.next().read_expr(),"=")}return t.destroy(e),this.handleDereferencable(e)}this.error("EXPR"),this.next()}return e},convertToList:function(t){const e=t.items.map((t=>(t.value&&"array"===t.value.kind&&t.value.shortForm&&(t.value=this.convertToList(t.value)),t))),i=this.node("list")(e,!0);return t.loc&&(i.loc=t.loc),t.leadingComments&&(i.leadingComments=t.leadingComments),t.trailingComments&&(i.trailingComments=t.trailingComments),i},read_assignref:function(t,e){let i;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),i=this.read_new_expr()):i=this.read_variable(!1,!1),t("assignref",e,i)},read_inline_function:function(t,e){if(this.token===this.tok.T_FUNCTION){const i=this.read_function(!0,t,e);return i.attrGroups=e,i}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");const i=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();const s=this.is_reference();this.expect("(")&&this.next();const n=this.read_parameter_list();this.expect(")")&&this.next();let r=!1,o=null;":"===this.token&&("?"===this.next().token&&(r=!0,this.next()),o=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();const h=i(n,s,this.read_expr(),o,r,!!t);return h.attrGroups=e,h},read_match_expression:function(){const t=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");let e=null,i=[];return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),i=this.read_match_arms(),this.expect("}")&&this.next(),t(e,i)},read_match_arms:function(){return this.read_list((()=>this.read_match_arm()),",",!0)},read_match_arm:function(){if("}"!==this.token)return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){let t=[];if(this.token===this.tok.T_DEFAULT)t=null,this.next();else for(t.push(this.read_expr());","===this.token;){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),t;t.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),t},read_attribute(){const t=this.text();let e=[];return this.next(),"("===this.token&&(e=this.read_argument_list()),this.node("attribute")(t,e)},read_attr_list(){const t=[];if(this.token===this.tok.T_ATTRIBUTE)do{const e=this.node("attrgroup")([]);for(this.next(),e.attrs.push(this.read_attribute());","===this.token;)this.next(),"]"!==this.token&&e.attrs.push(this.read_attribute());t.push(e),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return t},read_new_expr:function(){const t=this.node("new");this.expect(this.tok.T_NEW)&&this.next();let e=[];const i=this.read_attr_list();if(this.token===this.tok.T_CLASS){const s=this.node("class");"("===this.next().token&&(e=this.read_argument_list());const n=this.read_extends_from(),r=this.read_implements_list();let o=null;this.expect("{")&&(o=this.next().read_class_body());const h=s(null,n,r,o,[0,0,0]);return h.attrGroups=i,t(h,e)}const s=this.read_new_class_name();return"("===this.token&&(e=this.read_argument_list()),t(s,e)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){let t=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(t=this.read_static_getter(t)),t}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(t){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)t=this.recursive_variable_chain_scan(t,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||"["===this.token)t=this.read_dereferencable(t);else{if("("!==this.token)return t;t=this.node("call")(t,this.read_argument_list())}return t}};N.read_expr,N.read_expr_cast,N.read_isset_variable,N.read_isset_variables,N.read_internal_functions_in_yacc,N.read_optional_expr,N.read_exit_expr,N.read_expr_item,N.convertToList,N.read_assignref,N.read_inline_function,N.read_match_expression,N.read_match_arms,N.read_match_arm,N.read_match_arm_conds,N.read_attribute,N.read_attr_list,N.read_new_expr,N.read_new_class_name,N.handleDereferencable;var g={is_reference:function(){return"&"==this.token&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(t,e,i,s){const n=this.read_function_declaration(t?1:e?2:0,e&&1===e[1],i||[],s);return e&&1==e[2]?(n.parseFlags(e),this.expect(";")&&this.next()):(this.expect("{")&&(n.body=this.read_code_block(!1),n.loc&&n.body.loc&&(n.loc.end=n.body.loc.end)),!t&&e&&n.parseFlags(e)),n},read_function_declaration:function(t,e,i,s){let n="function";1===t?n="closure":2===t&&(n="method");const r=this.node(n);this.expect(this.tok.T_FUNCTION)&&this.next();const o=this.is_reference();let h=!1,a=[],c=null,l=!1;if(1!==t){const e=this.node("identifier");2===t?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(h=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(h=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(h=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(h=this.text()),this.next()),h=e(h)}this.expect("(")&&this.next();const _=this.read_parameter_list();this.expect(")")&&this.next(),1===t&&(a=this.read_lexical_vars()),":"===this.token&&("?"===this.next().token&&(l=!0,this.next()),c=this.read_types());const u=t=>(t.attrGroups=i||[],s&&t.loc&&(t.loc.start=s,t.loc.source&&(t.loc.source=this.lexer._input.substr(t.loc.start.offset,t.loc.end.offset-t.loc.start.offset))),t);return u(1===t?r(_,o,a,c,l,e):r(h,_,o,c,l))},read_lexical_vars:function(){let t=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),t=this.read_lexical_var_list(),this.expect(")")&&this.next()),t},read_list_with_dangling_comma:function(t){const e=[];for(;this.token!=this.EOF;){if(e.push(t()),","!=this.token){if(")"==this.token)break;this.error([",",")"]);break}if(this.next(),this.version>=800&&")"===this.token)return e}return e},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if("&"===this.token)return this.read_byref(this.read_lexical_var.bind(this));const t=this.node("variable");this.expect(this.tok.T_VARIABLE);const e=this.text().substring(1);return this.next(),t(e,!1)},read_parameter_list:function(){return")"!=this.token?this.read_list_with_dangling_comma(this.read_parameter.bind(this)):[]},read_parameter:function(){const t=this.node("parameter");let e=null,i=null,s=null,n=!1,r=[];this.token===this.tok.T_ATTRIBUTE&&(r=this.read_attr_list());const o=this.read_promoted();"?"===this.token&&(this.next(),n=!0),s=this.read_types(),n&&!s&&this.raiseError("Expecting a type definition combined with nullable operator");const h=this.is_reference(),a=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){e=this.node("identifier");const t=this.text().substring(1);this.next(),e=e(t)}"="==this.token&&(i=this.next().read_expr());const c=t(e,s,i,h,a,n,o);return r&&(c.attrGroups=r),c},read_types(){const t=[],e=this.node("uniontype");let i=this.read_type();if(!i)return null;for(t.push(i);"|"===this.token;)this.next(),i=this.read_type(),t.push(i);return 1===t.length?t[0]:e(t)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){let t=[];return this.expect("(")&&this.next(),")"!==this.token&&(t=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),t},read_non_empty_argument_list:function(){let t=!1;return this.read_function_list(function(){const e=this.read_argument();return e&&(t&&this.raiseError("Unexpected argument after a variadic argument"),"variadic"===e.kind&&(t=!0)),e}.bind(this),",")},read_argument:function(){if(this.token===this.tok.T_ELLIPSIS)return this.node("variadic")(this.next().read_expr());if(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token)){const t=this.lexer.getState(),e=this.lexer.lex();if(this.lexer.setState(t),":"===e)return this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())}return this.read_expr()},read_type:function(){const t=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){const e=this.text();return this.next(),t("typereference",e.toLowerCase(),e)}if(this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){const e=this.text(),i=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(e.toLowerCase())>-1?t("typereference",e.toLowerCase(),e):(this.lexer.tokens.push(i),this.next(),t.destroy(),this.read_namespace_name())}return this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NS_SEPARATOR?(t.destroy(),this.read_namespace_name()):(t.destroy(),null)}};g.is_reference,g.is_variadic,g.read_function,g.read_function_declaration,g.read_lexical_vars,g.read_list_with_dangling_comma,g.read_lexical_var_list,g.read_lexical_var,g.read_parameter_list,g.read_parameter,g.read_types,g.read_promoted,g.read_argument_list,g.read_non_empty_argument_list,g.read_argument,g.read_type;var C={read_if:function(){const t=this.node("if"),e=this.next().read_if_expr();let i=null,s=null,n=!1;if(":"===this.token){n=!0,this.next(),i=this.node("block");const t=[];for(;this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){s=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){s=this.read_else_short();break}t.push(this.read_inner_statement())}i=i(null,t),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else i=this.read_statement(),this.token===this.tok.T_ELSEIF?s=this.read_if():this.token===this.tok.T_ELSE&&(s=this.next().read_statement());return t(e,i,s,n)},read_if_expr:function(){this.expect("(")&&this.next();const t=this.read_expr();return this.expect(")")&&this.next(),t},read_elseif_short:function(){let t=null;const e=this.node("if"),i=this.next().read_if_expr();this.expect(":")&&this.next();const s=this.node("block"),n=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){t=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){t=this.read_else_short();break}n.push(this.read_inner_statement())}return e(i,s(null,n),t,!0)},read_else_short:function(){this.next().expect(":")&&this.next();const t=this.node("block"),e=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)e.push(this.read_inner_statement());return t(null,e)}};C.read_if,C.read_if_expr,C.read_elseif_short,C.read_else_short;var S={read_while:function(){const t=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();let e=null,i=null,s=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),":"===this.token?(s=!0,i=this.read_short_form(this.tok.T_ENDWHILE)):i=this.read_statement(),t(e,i,s)},read_do:function(){const t=this.node("do");this.expect(this.tok.T_DO)&&this.next();let e=null,i=null;return i=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),t(e,i)},read_for:function(){const t=this.node("for");this.expect(this.tok.T_FOR)&&this.next();let e=[],i=[],s=[],n=null,r=!1;return this.expect("(")&&this.next(),";"!==this.token?(e=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),";"!==this.token?(i=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),")"!==this.token?(s=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),":"===this.token?(r=!0,n=this.read_short_form(this.tok.T_ENDFOR)):n=this.read_statement(),t(e,i,s,n,r)},read_foreach:function(){const t=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();let e=null,i=null,s=null,n=null,r=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),s=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(i=s,s=this.next().read_foreach_variable())),i&&"list"===i.kind&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),":"===this.token?(r=!0,n=this.read_short_form(this.tok.T_ENDFOREACH)):n=this.read_statement(),t(e,i,s,n,r)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||"["===this.token){const t="["===this.token,e=this.node("list");this.next(),!t&&this.expect("(")&&this.next();const i=this.read_array_pair_list(t);return this.expect(t?"]":")")&&this.next(),e(i,t)}return this.read_variable(!1,!1)}};S.read_while,S.read_do,S.read_for,S.read_foreach,S.read_foreach_variable;var L={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}};L.read_start;var O={read_namespace:function(){const t=this.node("namespace");let e,i;return this.expect(this.tok.T_NAMESPACE)&&this.next(),i="{"==this.token?{name:[""]}:this.read_namespace_name(),this.currentNamespace=i,";"==this.token?(this.currentNamespace=i,e=this.next().read_top_statements(),this.expect(this.EOF),t(i.name,e,!1)):"{"==this.token?(this.currentNamespace=i,e=this.next().read_top_statements(),this.expect("}")&&this.next(),0===e.length&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),t(i.name,e,!0)):"("===this.token?(i.resolution=this.ast.reference.RELATIVE_NAME,i.name=i.name.substring(1),t.destroy(),this.node("call")(i,this.read_argument_list())):(this.error(["{",";"]),this.currentNamespace=i,e=this.read_top_statements(),this.expect(this.EOF),t(i,e,!1))},read_namespace_name:function(t){const e=this.node();let i=!1;this.token===this.tok.T_NAMESPACE&&(this.next().expect(this.tok.T_NS_SEPARATOR)&&this.next(),i=!0);const s=this.read_list(this.tok.T_STRING,this.tok.T_NS_SEPARATOR,!0);if(!i&&1===s.length&&(t||"("!==this.token)){if("parent"===s[0].toLowerCase())return e("parentreference",s[0]);if("self"===s[0].toLowerCase())return e("selfreference",s[0])}return e("name",s,i)},read_use_statement:function(){let t=this.node("usegroup"),e=[],i=null;this.expect(this.tok.T_USE)&&this.next();const s=this.read_use_type();return e.push(this.read_use_declaration(!1)),","===this.token?e=e.concat(this.next().read_use_declarations(!1)):"{"===this.token&&(i=e[0].name,e=this.next().read_use_declarations(null===s),this.expect("}")&&this.next()),t=t(i,s,e),this.expect(";")&&this.next(),t},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(t){const e=this.node("useitem");let i=null;t&&(i=this.read_use_type());const s=this.read_namespace_name(),n=this.read_use_alias();return e(s.name,n,i)},read_use_declarations:function(t){const e=[this.read_use_declaration(t)];for(;","===this.token;){if(this.next(),t){if(this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;e.push(this.read_use_declaration(t))}return e},read_use_alias:function(){let t=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){const e=this.node("identifier"),i=this.text();this.next(),t=e(i)}return t},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};O.read_namespace,O.read_namespace_name,O.read_use_statement,O.read_class_name_reference,O.read_use_declaration,O.read_use_declarations,O.read_use_alias,O.read_use_type;const I={"\\":"\\",$:"$",n:"\n",r:"\r",t:"\t",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)};var R={resolve_special_chars:function(t,e){return e?t.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,((t,e,i)=>I[e]?I[e]:"x"===e[0]||"X"===e[0]?String.fromCodePoint(parseInt(e.substr(1),16)):"u"===e[0]?String.fromCodePoint(parseInt(i,16)):String.fromCodePoint(parseInt(e,8)))):t.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(t,e,i,s){if(0===e)return t;this.check_heredoc_indentation_level(t,e,i,s);const n=i?" ":"\t",r=new RegExp("\\n".concat(n,"{").concat(e,"}"),"g"),o=new RegExp("^".concat(n,"{").concat(e,"}"));return s&&(t=t.replace(o,"")),t.replace(r,"\n")},check_heredoc_indentation_level:function(t,e,i,s){const n=t.length;let r=0,o=0,h=!0;const a=i?" ":"\t";let c=!1;if(!s){if(r=t.indexOf("\n"),-1===r)return;r++}for(;r<n;)h?t[r]===a?o++:c=!0:h=!1,"\n"!==t[r]&&c&&o<e?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(e,")")):c=!1,"\n"===t[r]&&(h=!0,o=0),r++},read_dereferencable_scalar:function(){let t=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:{let e=this.node("string");const i=this.text();let s=0;"b"!==i[0]&&"B"!==i[0]||(s=1);const n='"'===i[s];this.next(),e=e(n,this.resolve_special_chars(i.substring(s+1,i.length-1),n),1===s,i),t=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(e):e}break;case this.tok.T_ARRAY:case"[":t=this.read_array()}return t},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();{let t,e;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:{const e=this.node("number");return t=this.text(),this.next(),e(t,null)}case this.tok.T_START_HEREDOC:if("ST_NOWDOC"===this.lexer.curCondition){const i=this.lexer.yylloc.first_offset;e=this.node("nowdoc"),t=this.next().text(),this.lexer.heredoc_label.indentation>0&&(t=t.substring(0,t.length-this.lexer.heredoc_label.indentation));const s=t[t.length-1];"\n"===s?t="\r"===t[t.length-2]?t.substring(0,t.length-2):t.substring(0,t.length-1):"\r"===s&&(t=t.substring(0,t.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();const n=this.lexer._input.substring(i,this.lexer.yylloc.first_offset);return e=e(this.remove_heredoc_leading_whitespace_chars(t,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),n,this.lexer.heredoc_label.label),e}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:{const t=this.error("SCALAR");return this.next(),t}}}},read_dereferencable:function(t){let e,i;const s=this.node("offsetlookup");return"["===this.token?(i=this.next().read_expr(),this.expect("]")&&this.next(),e=s(t,i)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(i=this.read_encapsed_string_item(!1),e=s(t,i)),e},read_encapsed_string_item:function(t){const e=this.node("encapsedpart");let i,s,n,r=null,o=!1,h=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){const e=this.text();this.next(),h=h("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(e,t),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):e,!1,e)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(r="simple",o=!0,n=null,this.next().token===this.tok.T_STRING_VARNAME){n=this.node("variable");const t=this.text();this.next(),"["===this.token?(n=n(t,!1),s=this.node("offsetlookup"),i=this.next().read_expr(),this.expect("]")&&this.next(),h=s(n,i)):h=n(t,!1)}else h=h("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)r="complex",h.destroy(),h=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(r="simple",h.destroy(),h=this.read_simple_variable(),"["===this.token&&(s=this.node("offsetlookup"),i=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),h=s(h,i)),this.token===this.tok.T_OBJECT_OPERATOR){s=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);const t=this.node("identifier");n=this.text(),this.next(),h=s(h,t(n))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);const t=this.text();this.next(),h.destroy(),h=h("string",!1,t,!1,t)}return this.lexer.heredoc_label.first_encaps_node=!1,e(h,r,o)},read_encapsed_string:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.lexer.yylloc.first_offset;let s=this.node("encapsed");this.next();const n=this.lexer.yylloc.prev_offset-(e?1:0),r=[];let o=null;for(o="`"===t?this.ast.encapsed.TYPE_SHELL:'"'===t?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==t&&this.token!==this.EOF;)r.push(this.read_encapsed_string_item(!0));if(r.length>0&&"encapsedpart"===r[r.length-1].kind&&"string"===r[r.length-1].expression.kind){const t=r[r.length-1].expression,e=t.value[t.value.length-1];"\n"===e?"\r"===t.value[t.value.length-2]?t.value=t.value.substring(0,t.value.length-2):t.value=t.value.substring(0,t.value.length-1):"\r"===e&&(t.value=t.value.substring(0,t.value.length-1))}return this.expect(t)&&this.next(),s=s(r,this.lexer._input.substring("heredoc"===o?i:n-1,this.lexer.yylloc.first_offset),o),t===this.tok.T_END_HEREDOC&&(s.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),s},get_magic_constant:function(){const t=this.node("magic"),e=this.text();return this.next(),t(e.toUpperCase(),e)}};R.resolve_special_chars,R.remove_heredoc_leading_whitespace_chars,R.check_heredoc_indentation_level,R.read_dereferencable_scalar,R.read_scalar,R.read_dereferencable,R.read_encapsed_string_item,R.read_encapsed_string,R.get_magic_constant;var b={read_top_statements:function(){let t=[];for(;this.token!==this.EOF&&"}"!==this.token;){const e=this.read_top_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_top_statement:function(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,t);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement(t);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(t);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:{const t=this.node("constantstatement"),e=this.next().read_const_list();return this.expectEndOfStatement(),t(null,e)}case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:{const t=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,t(this.lexer._input.substring(this.lexer.offset))}default:return this.read_statement()}},read_inner_statements:function(){let t=[];for(;this.token!=this.EOF&&"}"!==this.token;){const e=this.read_inner_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_const_list:function(){return this.read_list((function(){this.expect(this.tok.T_STRING);const t=this.node("constant");let e=this.node("identifier");const i=this.text();return this.next(),e=e(i),this.expect("=")?t(e,this.next().read_expr()):t(e,null)}),",",!1)},read_declare_list:function(){const t=[];for(;this.token!=this.EOF&&")"!==this.token;){this.expect(this.tok.T_STRING);const e=this.node("declaredirective");let i=this.node("identifier");const s=this.text();this.next(),i=i(s);let n=null;if(this.expect("=")&&(n=this.next().read_expr()),t.push(e(i,n)),","!==this.token)break;this.next()}return t},read_inner_statement:function(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:{const e=this.read_function(!1,!1);return e.attrGroups=t,e}case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_HALT_COMPILER:{this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");let t=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),t=t(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),t}default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:{const t=this.node("return");this.next();const e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e)}case this.tok.T_BREAK:case this.tok.T_CONTINUE:{const t=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();const e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e)}case this.tok.T_GLOBAL:{const t=this.node("global"),e=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),t(e)}case this.tok.T_STATIC:{const t=[this.token,this.lexer.getState()],e=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(t);const i=this.next().read_expr();return this.expectEndOfStatement(i),e("expressionstatement",i)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);const i=this.read_variable_declarations();return this.expectEndOfStatement(),e("static",i)}case this.tok.T_ECHO:{const t=this.node("echo"),e=this.text(),i="<?="===e||"<%="===e,s=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),t(s,i)}case this.tok.T_INLINE_HTML:{const t=this.text();let e=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null;const i="\r"===e||"\n"===e;i&&"\n"===e&&this.lexer.yylloc.first_offset>1&&"\r"===this.lexer._input[this.lexer.yylloc.first_offset-2]&&(e="\r\n");const s=this.node("inline");return this.next(),s(t,i?e+t:t)}case this.tok.T_UNSET:{const t=this.node("unset");this.next().expect("(")&&this.next();const e=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),t(e)}case this.tok.T_DECLARE:{const t=this.node("declare"),e=[];let i;this.next().expect("(")&&this.next();const s=this.read_declare_list();if(this.expect(")")&&this.next(),":"===this.token){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)e.push(this.read_top_statement());0===e.length&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),i=this.ast.declare.MODE_SHORT}else if("{"===this.token){for(this.next();this.token!=this.EOF&&"}"!==this.token;)e.push(this.read_top_statement());0===e.length&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect("}")&&this.next(),i=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),i=this.ast.declare.MODE_NONE;return t(s,e,i)}case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:{const t=this.node("throw"),e=this.next().read_expr();return this.expectEndOfStatement(),t(e)}case";":return this.next(),null;case this.tok.T_STRING:{const t=this.node(),e=[this.token,this.lexer.getState()],i=this.text();let s=this.node("identifier");if(":"===this.next().token)return s=s(i),this.next(),t("label",s);s.destroy(),t.destroy(),this.lexer.tokens.push(e);const n=this.node("expressionstatement"),r=this.next().read_expr();return this.expectEndOfStatement(r),n(r)}case this.tok.T_GOTO:{const t=this.node("goto");let e=null;if(this.next().expect(this.tok.T_STRING)){e=this.node("identifier");const t=this.text();this.next(),e=e(t),this.expectEndOfStatement()}return t(e)}default:{const t=this.node("expressionstatement"),e=this.read_expr();return this.expectEndOfStatement(e),t(e)}}},read_code_block:function(t){const e=this.node("block");this.expect("{")&&this.next();const i=t?this.read_top_statements():this.read_inner_statements();return 0===i.length&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect("}")&&this.next(),e(null,i)}};b.read_top_statements,b.read_top_statement,b.read_inner_statements,b.read_const_list,b.read_declare_list,b.read_inner_statement,b.read_statement,b.read_code_block;var v={read_switch:function(){const t=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();const e=this.read_expr();this.expect(")")&&this.next();const i=":"===this.token;return t(e,this.read_switch_case_list(),i)},read_switch_case_list:function(){let t=null;const e=this.node("block"),i=[];for("{"===this.token?t="}":":"===this.token?t=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),";"===this.token&&this.next();this.token!==this.EOF&&this.token!==t;)i.push(this.read_case_list(t));return 0===i.length&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),t===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),e(null,i)},read_case_list:function(t){const e=this.node("case");let i=null;this.token===this.tok.T_CASE?i=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();const s=this.node("block"),n=[];for(;this.token!==this.EOF&&this.token!==t&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)n.push(this.read_inner_statement());return e(i,s(null,n))}};v.read_switch,v.read_switch_case_list,v.read_case_list;var w={read_try:function(){this.expect(this.tok.T_TRY);const t=this.node("try");let e=null;const i=[],s=this.next().read_statement();for(;this.token===this.tok.T_CATCH;){const t=this.node("catch");this.next().expect("(")&&this.next();const e=this.read_list(this.read_namespace_name,"|",!1);let s=null;(this.version<800||this.token===this.tok.T_VARIABLE)&&(s=this.read_variable(!0,!1)),this.expect(")"),i.push(t(this.next().read_statement(),e,s))}return this.token===this.tok.T_FINALLY&&(e=this.next().read_statement()),t(s,i,e)}};w.read_try;var D={read_short_form:function(t){const e=this.node("block"),i=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==t;)i.push(this.read_inner_statement());return 0===i.length&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),this.expectEndOfStatement(),e(null,i)},read_function_list:function(t,e){const i=[];do{if(this.token==e&&this.version>=703&&i.length>0){i.push(this.node("noop")());break}if(i.push(t.apply(this,[])),this.token!=e)break;if(")"==this.next().token&&this.version>=703)break}while(this.token!=this.EOF);return i},read_list:function(t,e,i){const s=[];if(this.token==e&&(i&&s.push("function"==typeof t?this.node("noop")():null),this.next()),"function"==typeof t)do{const i=t.apply(this,[]);if(i&&s.push(i),this.token!=e)break}while(this.next().token!=this.EOF);else{if(!this.expect(t))return[];for(s.push(this.text());this.next().token!=this.EOF&&this.token==e&&this.next().token==t;)s.push(this.text())}return s},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(t){let e=this.node("byref");this.next(),e=e(null);const i=t();return i&&(this.ast.swapLocations(i,e,i,this),i.byref=!0),i},read_variable_declarations:function(){return this.read_list((function(){const t=this.node("staticvariable");let e=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){const t=this.text().substring(1);this.next(),e=e(t,!1)}else e=e("#ERR",!1);return"="===this.token?t(e,this.next().read_expr()):e}),",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}};D.read_short_form,D.read_function_list,D.read_list,D.read_name_list,D.read_byref,D.read_variable_declarations,D.read_extends_from,D.read_interface_extends_list,D.read_implements_list;var P={read_variable:function(t,e){let i;if("&"===this.token)return this.read_byref(this.read_variable.bind(this,t,e));if(this.is([this.tok.T_VARIABLE,"$"]))i=this.read_reference_variable(e);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE])){i=this.node();const t=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&"("!=this.token&&-1===["parentreference","selfreference"].indexOf(t.kind)){const e=t.name.toLowerCase();"true"===e?i=t.destroy(i("boolean",!0,t.name)):"false"===e?i=t.destroy(i("boolean",!1,t.name)):"null"===e?i=t.destroy(i("nullkeyword",t.name)):(i.destroy(t),i=t)}else i.destroy(t),i=t}else if(this.token===this.tok.T_STATIC){i=this.node("staticreference");const t=this.text();this.next(),i=i(t)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(i=this.read_static_getter(i,e)),this.recursive_variable_chain_scan(i,t,e)},read_static_getter:function(t,e){const i=this.node("staticlookup");let s,n;return this.next().is([this.tok.T_VARIABLE,"$"])?s=this.read_reference_variable(e):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(s=this.node("identifier"),n=this.text(),this.next(),s=s(n)):"{"===this.token?(s=this.node("literal"),n=this.next().read_expr(),this.expect("}")&&this.next(),s=s("literal",n,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),s=this.node("identifier"),n=this.text(),this.next(),s=s(n)),i(t,s)},read_what:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null,i=null;switch(this.next().token){case this.tok.T_STRING:e=this.node("identifier"),i=this.text(),this.next(),e=e(i),t&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:e=this.node("variable"),i=this.text().substring(1),this.next(),e=e(i,!1);break;case"$":e=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),"{"===this.token?(i=this.next().read_expr(),this.expect("}")&&this.next(),e=e("variable",i,!0)):(i=this.read_expr(),e=e("variable",i,!1));break;case"{":e=this.node("encapsedpart"),i=this.next().read_expr(),this.expect("}")&&this.next(),e=e(i,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),e=this.node("identifier"),i=this.text(),this.next(),e=e(i)}return e},recursive_variable_chain_scan:function(t,e,i){let s,n;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(e)return t;t=this.node("call")(t,this.read_argument_list());break;case"[":case"{":{const e="["===this.token;s=this.node("offsetlookup"),this.next(),n=!1,i?(n=this.read_encaps_var_offset(),this.expect(e?"]":"}")&&this.next()):(e?"]"!==this.token:"}"!==this.token)?(n=this.read_expr(),this.expect(e?"]":"}")&&this.next()):this.next(),t=s(t,n);break}case this.tok.T_DOUBLE_COLON:"staticlookup"===t.kind&&"identifier"===t.offset.kind&&this.error(),s=this.node("staticlookup"),t=s(t,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:s=this.node("propertylookup"),t=s(t,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:s=this.node("nullsafepropertylookup"),t=s(t,this.read_what());break;default:break t}return t},read_encaps_var_offset:function(){let t=this.node();if(this.token===this.tok.T_STRING){const e=this.text();this.next(),t=t("identifier",e)}else if(this.token===this.tok.T_NUM_STRING){const e=this.text();this.next(),t=t("number",e,null)}else if("-"===this.token){this.next();const e=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),t=t("number",e,null)}else if(this.token===this.tok.T_VARIABLE){const e=this.text().substring(1);this.next(),t=t("variable",e,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);const e=this.text();this.next(),t=t("identifier",e)}return t},read_reference_variable:function(t){let e,i=this.read_simple_variable();for(;this.token!=this.EOF;){const s=this.node();if("{"!=this.token||t){s.destroy();break}e=this.next().read_expr(),this.expect("}")&&this.next(),i=s("offsetlookup",i,e)}return i},read_simple_variable:function(){let t,e=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)t=this.text().substring(1),this.next(),e=e(t,!1);else switch("$"===this.token&&this.next(),this.token){case"{":{const t=this.next().read_expr();this.expect("}")&&this.next(),e=e(t,!0);break}case"$":e=e(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:{t=this.text().substring(1);const i=this.node("variable");this.next(),e=e(i(t,!1),!1);break}default:this.error(["{","$",this.tok.T_VARIABLE]),t=this.text(),this.next(),e=e(t,!1)}return e}};function U(t){return"."!=t&&","!=t&&!isNaN(parseFloat(t))&&isFinite(t)}P.read_variable,P.read_static_getter,P.read_what,P.recursive_variable_chain_scan,P.read_encaps_var_offset,P.read_reference_variable,P.read_simple_variable;const B=function(t,e){this.lexer=t,this.ast=e,this.tok=t.tok,this.EOF=t.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=800,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;const i=function(t){return[t,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(i)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(i)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(i)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(i)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i))}};B.prototype.getTokenName=function(t){return U(t)?t==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[t]:"'"+t+"'"},B.prototype.parse=function(t,e){this._errors=[],this.filename=e||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(t),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;const i=this.node("program"),s=[];for(this.next();this.token!=this.EOF;)s.push(this.read_start());0===s.length&&this.extractDoc&&this._docs.length>this._docIndex&&s.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];const n=i(s,this._errors,this._docs,this._tokens);if(this.debug){const t=this.ast.checkNodes();if(t.length>0)throw t.forEach((function(t){t.position&&console.log("Node at line "+t.position.line+", column "+t.position.column),console.log(t.stack.join("\n"))})),new Error("Some nodes are not closed")}return n},B.prototype.raiseError=function(t,e,i,s){if(t+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){const e=new SyntaxError(t,this.filename,this.lexer.yylloc.first_line);throw e.lineNumber=this.lexer.yylloc.first_line,e.fileName=this.filename,e.columnNumber=this.lexer.yylloc.first_column,e}const n=this.ast.prepare("error",null,this)(t,s,this.lexer.yylloc.first_line,i);return this._errors.push(n),n},B.prototype.error=function(t){let e="Parse Error : syntax error",i=this.getTokenName(this.token),s="";if(this.token!==this.EOF){if(U(this.token)){let t=this.text();t.length>10&&(t=t.substring(0,7)+"..."),i="'"+t+"' ("+i+")"}e+=", unexpected "+i}return t&&!Array.isArray(t)&&((U(t)||1===t.length)&&(s=", expecting "+this.getTokenName(t)),e+=s),this.raiseError(e,s,t,i)},B.prototype.position=function(){return new m(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},B.prototype.node=function(t){if(this.extractDoc){let e=null;this._docIndex<this._docs.length&&(e=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+t)),console.log(e)));const i=this.ast.prepare(t,e,this);return i.postBuild=function(t){if(this._docIndex<this._docs.length)if(this._lastNode){const t=this.prev[2];let e=this._docIndex;for(;e<this._docs.length&&!(this._docs[e].offset>t);e++);e>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,e)),this._docIndex=e)}else this.token===this.EOF&&(t.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=t}.bind(this),i}return this.ast.prepare(t,null,this)},B.prototype.expectEndOfStatement=function(t){if(";"===this.token)t&&";"===this.lexer.yytext&&t.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};const M=["parser.next","parser.node","parser.showlog"];B.prototype.showlog=function(){const t=(new Error).stack.split("\n");let e;for(let i=2;i<t.length;i++){e=t[i].trim();let s=!1;for(let t=0;t<M.length;t++)if(e.substring(3,3+M[t].length)===M[t]){s=!0;break}if(!s)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @--\x3e"+e),this},B.prototype.expect=function(t){if(Array.isArray(t)){if(-1===t.indexOf(this.token))return this.error(t),!1}else if(this.token!=t)return this.error(t),!1;return!0},B.prototype.text=function(){return this.lexer.yytext},B.prototype.next=function(){if(";"===this.token&&";"!==this.lexer.yytext||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},B.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;let t=this.lexer.yytext;if(t=Object.prototype.hasOwnProperty.call(this.lexer.engine.tokens.values,this.token)?[this.lexer.engine.tokens.values[this.token],t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(t),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},B.prototype.is=function(t){return Array.isArray(t)?-1!==t.indexOf(this.token):this.entries[t].has(this.token)},[x,y,A,N,g,C,S,L,O,R,b,v,w,D,P].forEach((function(t){for(const e in t){if(Object.prototype.hasOwnProperty.call(B.prototype,e))throw new Error("Function "+e+" is already defined - collision");B.prototype[e]=t[e]}}));var F=B,H=Object.freeze({values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP",234:"T_COALESCE_EQUAL",235:"T_FN",236:"T_NULLSAFE_OBJECT_OPERATOR",237:"T_MATCH",238:"T_ATTRIBUTE"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238}}),G=function(t,e,i){this.source=t,this.start=e,this.end=i};const V=function(t,e,i){this.kind=t,e&&(this.leadingComments=e),i&&(this.loc=i)};V.prototype.setTrailingComments=function(t){this.trailingComments=t},V.prototype.destroy=function(t){if(!t)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(t.leadingComments?t.leadingComments=Array.concat(this.leadingComments,t.leadingComments):t.leadingComments=this.leadingComments),this.trailingComments&&(t.trailingComments?t.trailingComments=Array.concat(this.trailingComments,t.trailingComments):t.trailingComments=this.trailingComments),t},V.prototype.includeToken=function(t){return this.loc&&(this.loc.end&&(this.loc.end.line=t.lexer.yylloc.last_line,this.loc.end.column=t.lexer.yylloc.last_column,this.loc.end.offset=t.lexer.offset),t.ast.withSource&&(this.loc.source=t.lexer._input.substring(this.loc.start.offset,t.lexer.offset))),this},V.extends=function(t,e){return e.prototype=Object.create(this.prototype),e.extends=this.extends,e.prototype.constructor=e,e.kind=t,e};var W=V;const Q="expression";var Y=W.extends(Q,(function(t,e,i){W.apply(this,[t||Q,e,i])}));const j="array";var $=Y.extends(j,(function(t,e,i,s){Y.apply(this,[j,i,s]),this.items=e,this.shortForm=t}));const z="arrowfunc";var K=Y.extends(z,(function(t,e,i,s,n,r,o,h){Y.apply(this,[z,o,h]),this.arguments=t,this.byref=e,this.body=i,this.type=s,this.nullable=n,this.isStatic=r||!1}));const X="assign";var J=Y.extends(X,(function(t,e,i,s,n){Y.apply(this,[X,s,n]),this.left=t,this.right=e,this.operator=i}));const Z="assignref";var q=Y.extends(Z,(function(t,e,i,s){Y.apply(this,[Z,i,s]),this.left=t,this.right=e}));const tt="attribute";var et=W.extends(tt,(function(t,e,i,s){W.apply(this,[tt,i,s]),this.name=t,this.args=e}));const it="attrgroup";var st=W.extends(it,(function(t,e,i){W.apply(this,[it,e,i]),this.attrs=t||[]}));const nt="operation";var ot=Y.extends(nt,(function(t,e,i){Y.apply(this,[t||nt,e,i])})),rt=ot.extends("bin",(function(t,e,i,s,n){ot.apply(this,["bin",s,n]),this.type=t,this.left=e,this.right=i}));const ht="statement";var at=W.extends(ht,(function(t,e,i){W.apply(this,[t||ht,e,i])}));const ct="block";var lt=at.extends(ct,(function(t,e,i,s){at.apply(this,[t||ct,i,s]),this.children=e.filter(Boolean)}));const _t="literal";var ut=Y.extends(_t,(function(t,e,i,s,n){Y.apply(this,[t||_t,s,n]),this.value=e,i&&(this.raw=i)}));const pt="boolean";var dt=ut.extends(pt,(function(t,e,i,s){ut.apply(this,[pt,t,e,i,s])}));const ft="break";var Tt=at.extends(ft,(function(t,e,i){at.apply(this,[ft,e,i]),this.level=t}));const kt="byref";var Et=Y.extends(kt,(function(t,e,i){Y.apply(this,[kt,e,i]),this.what=t}));const mt="call";var xt=Y.extends(mt,(function(t,e,i,s){Y.apply(this,[mt,i,s]),this.what=t,this.arguments=e}));const yt="case";var At=at.extends(yt,(function(t,e,i,s){at.apply(this,[yt,i,s]),this.test=t,this.body=e}));const gt="cast";var Nt=ot.extends(gt,(function(t,e,i,s,n){ot.apply(this,[gt,s,n]),this.type=t,this.raw=e,this.expr=i}));const Ct="catch";var St=at.extends(Ct,(function(t,e,i,s,n){at.apply(this,[Ct,s,n]),this.body=t,this.what=e,this.variable=i}));const Lt="declaration",Ot=at.extends(Lt,(function(t,e,i,s){at.apply(this,[t||Lt,i,s]),this.name=e}));Ot.prototype.parseFlags=function(t){this.isAbstract=1===t[2],this.isFinal=2===t[2],"class"!==this.kind&&(-1===t[0]?this.visibility="":null===t[0]?this.visibility=null:0===t[0]?this.visibility="public":1===t[0]?this.visibility="protected":2===t[0]&&(this.visibility="private"),this.isStatic=1===t[1])};var It=Ot;const bt="class";var Rt=It.extends(bt,(function(t,e,i,s,n,r,o){It.apply(this,[bt,t,r,o]),this.isAnonymous=!t,this.extends=e,this.implements=i,this.body=s,this.attrGroups=[],this.parseFlags(n)}));const vt="constantstatement";var wt=at.extends(vt,(function(t,e,i,s){at.apply(this,[t||vt,i,s]),this.constants=e}));const Dt="classconstant",Pt=wt.extends(Dt,(function(t,e,i,s,n,r){wt.apply(this,[t||Dt,e,n,r]),this.parseFlags(i),this.attrGroups=s}));Pt.prototype.parseFlags=function(t){-1===t[0]?this.visibility="":null===t[0]?this.visibility=null:0===t[0]?this.visibility="public":1===t[0]?this.visibility="protected":2===t[0]&&(this.visibility="private")};var Ut=Pt;const Bt="clone";var Mt=Y.extends(Bt,(function(t,e,i){Y.apply(this,[Bt,e,i]),this.what=t}));const Ft="closure";var Ht=Y.extends(Ft,(function(t,e,i,s,n,r,o,h){Y.apply(this,[Ft,o,h]),this.uses=i,this.arguments=t,this.byref=e,this.type=s,this.nullable=n,this.isStatic=r||!1,this.body=null,this.attrGroups=[]})),Gt=W.extends("comment",(function(t,e,i,s){W.apply(this,[t,i,s]),this.value=e}));const Vt="commentblock";var Wt=Gt.extends(Vt,(function(t,e,i){Gt.apply(this,[Vt,t,e,i])}));const Qt="commentline";var Yt=Gt.extends(Qt,(function(t,e,i){Gt.apply(this,[Qt,t,e,i])}));const jt="constant";var $t=W.extends(jt,(function(t,e,i,s){W.apply(this,[jt,i,s]),this.name=t,this.value=e}));const zt="continue";var Kt=at.extends(zt,(function(t,e,i){at.apply(this,[zt,e,i]),this.level=t}));const Xt="declare",Jt=lt.extends(Xt,(function(t,e,i,s,n){lt.apply(this,[Xt,e,s,n]),this.directives=t,this.mode=i}));Jt.MODE_SHORT="short",Jt.MODE_BLOCK="block",Jt.MODE_NONE="none";var qt=Jt;const Zt="declaredirective";var te=W.extends(Zt,(function(t,e,i,s){W.apply(this,[Zt,i,s]),this.key=t,this.value=e})),ee=at.extends("do",(function(t,e,i,s){at.apply(this,["do",i,s]),this.test=t,this.body=e}));const ie="echo";var se=at.extends(ie,(function(t,e,i,s){at.apply(this,[ie,i,s]),this.shortForm=e,this.expressions=t}));const ne="empty";var re=Y.extends(ne,(function(t,e,i){Y.apply(this,[ne,e,i]),this.expression=t}));const oe="encapsed",he=ut.extends(oe,(function(t,e,i,s,n){ut.apply(this,[oe,t,e,s,n]),this.type=i}));he.TYPE_STRING="string",he.TYPE_SHELL="shell",he.TYPE_HEREDOC="heredoc",he.TYPE_OFFSET="offset";var ae=he;const ce="encapsedpart";var le=Y.extends(ce,(function(t,e,i,s,n){Y.apply(this,[ce,s,n]),this.expression=t,this.syntax=e,this.curly=i}));const _e="entry";var ue=Y.extends(_e,(function(t,e,i,s,n,r){Y.apply(this,[_e,n,r]),this.key=t,this.value=e,this.byRef=i,this.unpack=s}));const de="error";var pe=W.extends(de,(function(t,e,i,s,n,r){W.apply(this,[de,n,r]),this.message=t,this.token=e,this.line=i,this.expected=s}));const fe="eval";var Te=Y.extends(fe,(function(t,e,i){Y.apply(this,[fe,e,i]),this.source=t}));const ke="exit";var Ee=Y.extends(ke,(function(t,e,i,s){Y.apply(this,[ke,i,s]),this.expression=t,this.useDie=e}));const me="expressionstatement";var xe=at.extends(me,(function(t,e,i){at.apply(this,[me,e,i]),this.expression=t})),ye=at.extends("for",(function(t,e,i,s,n,r,o){at.apply(this,["for",r,o]),this.init=t,this.test=e,this.increment=i,this.shortForm=n,this.body=s}));const Ae="foreach";var ge=at.extends(Ae,(function(t,e,i,s,n,r,o){at.apply(this,[Ae,r,o]),this.source=t,this.key=e,this.value=i,this.shortForm=n,this.body=s}));const Ne="function";var Ce=It.extends(Ne,(function(t,e,i,s,n,r,o){It.apply(this,[Ne,t,r,o]),this.arguments=e,this.byref=i,this.type=s,this.nullable=n,this.body=null,this.attrGroups=[]}));const Se="global";var Le=at.extends(Se,(function(t,e,i){at.apply(this,[Se,e,i]),this.items=t}));const Oe="goto";var Ie=at.extends(Oe,(function(t,e,i){at.apply(this,[Oe,e,i]),this.label=t}));const be="halt";var Re=at.extends(be,(function(t,e,i){at.apply(this,[be,e,i]),this.after=t}));const ve="identifier";var we=W.extends(ve,(function(t,e,i){W.apply(this,[ve,e,i]),this.name=t})),De=at.extends("if",(function(t,e,i,s,n,r){at.apply(this,["if",n,r]),this.test=t,this.body=e,this.alternate=i,this.shortForm=s}));const Pe="include";var Ue=Y.extends(Pe,(function(t,e,i,s,n){Y.apply(this,[Pe,s,n]),this.once=t,this.require=e,this.target=i}));const Be="inline";var Me=ut.extends(Be,(function(t,e,i,s){ut.apply(this,[Be,t,e,i,s])}));const Fe="interface";var He=It.extends(Fe,(function(t,e,i,s,n,r){It.apply(this,[Fe,t,n,r]),this.extends=e,this.body=i,this.attrGroups=s}));const Ge="isset";var Ve=Y.extends(Ge,(function(t,e,i){Y.apply(this,[Ge,e,i]),this.variables=t}));const We="label";var Qe=at.extends(We,(function(t,e,i){at.apply(this,[We,e,i]),this.name=t}));const Ye="list";var je=Y.extends(Ye,(function(t,e,i,s){Y.apply(this,[Ye,i,s]),this.items=t,this.shortForm=e}));const $e="lookup";var ze=Y.extends($e,(function(t,e,i,s,n){Y.apply(this,[t||$e,s,n]),this.what=e,this.offset=i}));const Ke="magic";var Xe=ut.extends(Ke,(function(t,e,i,s){ut.apply(this,[Ke,t,e,i,s])}));const Je="match";var qe=Y.extends(Je,(function(t,e,i,s){Y.apply(this,[Je,i,s]),this.cond=t,this.arms=e}));const Ze="matcharm";var ti=Y.extends(Ze,(function(t,e,i,s){Y.apply(this,[Ze,i,s]),this.conds=t,this.body=e}));const ei="method";var ii=Ce.extends(ei,(function(){Ce.apply(this,arguments),this.kind=ei}));const si="reference";var ni=W.extends(si,(function(t,e,i){W.apply(this,[t||si,e,i])}));const ri="name",oi=ni.extends(ri,(function t(e,i,s,n){ni.apply(this,[ri,s,n]),i?this.resolution=t.RELATIVE_NAME:1===e.length?this.resolution=t.UNQUALIFIED_NAME:e[0]?this.resolution=t.QUALIFIED_NAME:this.resolution=t.FULL_QUALIFIED_NAME,this.name=e.join("\\")}));oi.UNQUALIFIED_NAME="uqn",oi.QUALIFIED_NAME="qn",oi.FULL_QUALIFIED_NAME="fqn",oi.RELATIVE_NAME="rn";var hi=oi;const ai="namespace";var ci=lt.extends(ai,(function(t,e,i,s,n){lt.apply(this,[ai,e,s,n]),this.name=t,this.withBrackets=i||!1}));const _i="namedargument";var li=Y.extends(_i,(function(t,e,i,s){Y.apply(this,[_i,i,s]),this.name=t,this.value=e})),ui=Y.extends("new",(function(t,e,i,s){Y.apply(this,["new",i,s]),this.what=t,this.arguments=e}));const di="noop";var pi=W.extends(di,(function(t,e){W.apply(this,[di,t,e])}));const fi="nowdoc";var Ti=ut.extends(fi,(function(t,e,i,s,n){ut.apply(this,[fi,t,e,s,n]),this.label=i}));const ki="nullkeyword";var Ei=W.extends(ki,(function(t,e,i){W.apply(this,[ki,e,i]),this.raw=t}));const mi="nullsafepropertylookup";var xi=ze.extends(mi,(function(t,e,i,s){ze.apply(this,[mi,t,e,i,s])}));const yi="number";var Ai=ut.extends(yi,(function(t,e,i,s){ut.apply(this,[yi,t,e,i,s])}));const gi="offsetlookup";var Ni=ze.extends(gi,(function(t,e,i,s){ze.apply(this,[gi,t,e,i,s])}));const Ci="parameter";var Si=It.extends(Ci,(function(t,e,i,s,n,r,o,h,a){It.apply(this,[Ci,t,h,a]),this.value=i,this.type=e,this.byref=s,this.variadic=n,this.nullable=r,this.flags=o||0,this.attrGroups=[]}));const Li="parentreference";var Oi=ni.extends(Li,(function(t,e,i){ni.apply(this,[Li,e,i]),this.raw=t}));const Ii="post";var bi=ot.extends(Ii,(function(t,e,i,s){ot.apply(this,[Ii,i,s]),this.type=t,this.what=e})),Ri=ot.extends("pre",(function(t,e,i,s){ot.apply(this,["pre",i,s]),this.type=t,this.what=e}));const vi="print";var wi=Y.extends(vi,(function(t,e,i){Y.apply(this,[vi,e,i]),this.expression=t}));const Di="program";var Pi=lt.extends(Di,(function(t,e,i,s,n,r){lt.apply(this,[Di,t,n,r]),this.errors=e,i&&(this.comments=i),s&&(this.tokens=s)}));const Ui="property";var Bi=at.extends(Ui,(function(t,e,i,s,n,r,o){at.apply(this,[Ui,r,o]),this.name=t,this.value=e,this.nullable=i,this.type=s,this.attrGroups=n}));const Mi="propertylookup";var Fi=ze.extends(Mi,(function(t,e,i,s){ze.apply(this,[Mi,t,e,i,s])}));const Hi="propertystatement",Gi=at.extends(Hi,(function(t,e,i,s,n){at.apply(this,[Hi,s,n]),this.properties=e,this.parseFlags(i)}));Gi.prototype.parseFlags=function(t){-1===t[0]?this.visibility="":null===t[0]?this.visibility=null:0===t[0]?this.visibility="public":1===t[0]?this.visibility="protected":2===t[0]&&(this.visibility="private"),this.isStatic=1===t[1]};var Vi=Gi;const Wi="retif";var Qi=Y.extends(Wi,(function(t,e,i,s,n){Y.apply(this,[Wi,s,n]),this.test=t,this.trueExpr=e,this.falseExpr=i}));const Yi="return";var ji=at.extends(Yi,(function(t,e,i){at.apply(this,[Yi,e,i]),this.expr=t}));const $i="selfreference";var zi=ni.extends($i,(function(t,e,i){ni.apply(this,[$i,e,i]),this.raw=t}));const Ki="silent";var Xi=Y.extends(Ki,(function(t,e,i){Y.apply(this,[Ki,e,i]),this.expr=t}));const Ji="static";var qi=at.extends(Ji,(function(t,e,i){at.apply(this,[Ji,e,i]),this.variables=t}));const Zi="staticvariable";var ts=W.extends(Zi,(function(t,e,i,s){W.apply(this,[Zi,i,s]),this.variable=t,this.defaultValue=e}));const es="staticlookup";var is=ze.extends(es,(function(t,e,i,s){ze.apply(this,[es,t,e,i,s])}));const ss="staticreference";var ns=ni.extends(ss,(function(t,e,i){ni.apply(this,[ss,e,i]),this.raw=t}));const rs="string";var os=ut.extends(rs,(function(t,e,i,s,n,r){ut.apply(this,[rs,e,s,n,r]),this.unicode=i,this.isDoubleQuote=t}));const hs="switch";var as=at.extends(hs,(function(t,e,i,s,n){at.apply(this,[hs,s,n]),this.test=t,this.body=e,this.shortForm=i}));const cs="throw";var ls=at.extends(cs,(function(t,e,i){at.apply(this,[cs,e,i]),this.what=t}));const _s="trait";var us=It.extends(_s,(function(t,e,i,s){It.apply(this,[_s,t,i,s]),this.body=e}));const ds="traitalias";var ps=W.extends(ds,(function(t,e,i,s,n,r){W.apply(this,[ds,n,r]),this.trait=t,this.method=e,this.as=i,this.visibility="",s&&(0===s[0]?this.visibility="public":1===s[0]?this.visibility="protected":2===s[0]&&(this.visibility="private"))}));const fs="traitprecedence";var Ts=W.extends(fs,(function(t,e,i,s,n){W.apply(this,[fs,s,n]),this.trait=t,this.method=e,this.instead=i}));const ks="traituse";var Es=W.extends(ks,(function(t,e,i,s){W.apply(this,[ks,i,s]),this.traits=t,this.adaptations=e})),ms=at.extends("try",(function(t,e,i,s,n){at.apply(this,["try",s,n]),this.body=t,this.catches=e,this.always=i}));const xs="typereference",ys=ni.extends(xs,(function(t,e,i,s){ni.apply(this,[xs,i,s]),this.name=t,this.raw=e}));ys.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var As=ys;const gs="unary";var Ns=ot.extends(gs,(function(t,e,i,s){ot.apply(this,[gs,i,s]),this.type=t,this.what=e}));const Cs="uniontype";var Ss=It.extends(Cs,(function(t,e,i){It.apply(this,[Cs,null,e,i]),this.types=t}));const Ls="unset";var Os=at.extends(Ls,(function(t,e,i){at.apply(this,[Ls,e,i]),this.variables=t}));const Is="usegroup";var bs=at.extends(Is,(function(t,e,i,s,n){at.apply(this,[Is,s,n]),this.name=t,this.type=e,this.items=i}));const Rs="useitem",vs=at.extends(Rs,(function(t,e,i,s,n){at.apply(this,[Rs,s,n]),this.name=t,this.alias=e,this.type=i}));vs.TYPE_CONST="const",vs.TYPE_FUNCTION="function";var ws=vs;const Ds="variable";var Ps=Y.extends(Ds,(function(t,e,i,s){Y.apply(this,[Ds,i,s]),this.name=t,this.curly=e||!1}));const Us="variadic";var Bs=Y.extends(Us,(function(t,e,i){Y.apply(this,[Us,e,i]),this.what=t}));const Ms="while";var Fs=at.extends(Ms,(function(t,e,i,s,n){at.apply(this,[Ms,s,n]),this.test=t,this.body=e,this.shortForm=i}));const Hs="yield";var Gs=Y.extends(Hs,(function(t,e,i,s){Y.apply(this,[Hs,i,s]),this.value=t,this.key=e}));const Vs="yieldfrom";var Ws=Y.extends(Vs,(function(t,e,i){Y.apply(this,[Vs,e,i]),this.value=t}));const Qs=function(t,e){this.withPositions=t,this.withSource=e};Qs.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach((function(t,e){t.forEach((function(t){Qs.precedence[t]=e+1}))})),Qs.prototype.isRightAssociative=function(t){return"**"===t||"??"===t},Qs.prototype.swapLocations=function(t,e,i,s){this.withPositions&&(t.loc.start=e.loc.start,t.loc.end=i.loc.end,this.withSource&&(t.loc.source=s.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},Qs.prototype.resolveLocations=function(t,e,i,s){this.withPositions&&(t.loc.start.offset>e.loc.start.offset&&(t.loc.start=e.loc.start),t.loc.end.offset<i.loc.end.offset&&(t.loc.end=i.loc.end),this.withSource&&(t.loc.source=s.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},Qs.prototype.resolvePrecedence=function(t,e){let i,s,n;return"call"===t.kind?this.resolveLocations(t,t.what,t,e):"propertylookup"===t.kind||"staticlookup"===t.kind||"offsetlookup"===t.kind&&t.offset?this.resolveLocations(t,t.what,t.offset,e):"bin"===t.kind?t.right&&!t.right.parenthesizedExpression&&("bin"===t.right.kind?(s=Qs.precedence[t.type],n=Qs.precedence[t.right.type],s&&n&&n<=s&&(t.type!==t.right.type||!this.isRightAssociative(t.type))&&(i=t.right,t.right=t.right.left,this.swapLocations(t,t.left,t.right,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i)):"retif"===t.right.kind&&(s=Qs.precedence[t.type],n=Qs.precedence["?"],s&&n&&n<=s&&(i=t.right,t.right=t.right.test,this.swapLocations(t,t.left,t.right,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i))):"silent"!==t.kind&&"cast"!==t.kind||!t.expr||t.expr.parenthesizedExpression?"unary"===t.kind?t.what&&!t.what.parenthesizedExpression&&("bin"===t.what.kind?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):"retif"===t.what.kind&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i)):"retif"===t.kind?t.falseExpr&&"retif"===t.falseExpr.kind&&!t.falseExpr.parenthesizedExpression&&(i=t.falseExpr,t.falseExpr=i.test,this.swapLocations(t,t.test,t.falseExpr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):"assign"===t.kind?t.right&&"bin"===t.right.kind&&!t.right.parenthesizedExpression&&(s=Qs.precedence["="],n=Qs.precedence[t.right.type],s&&n&&n<s&&(i=t.right,t.right=t.right.left,i.left=t,this.swapLocations(i,i.left,t.right,e),t=i)):"expressionstatement"===t.kind&&this.swapLocations(t,t.expression,t,e):"bin"===t.expr.kind?(i=t.expr,t.expr=t.expr.left,this.swapLocations(t,t,t.expr,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):"retif"===t.expr.kind&&(i=t.expr,t.expr=t.expr.test,this.swapLocations(t,t,t.expr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i),t},Qs.prototype.prepare=function(t,e,i){let s=null;(this.withPositions||this.withSource)&&(s=i.position());const n=this,r=function(){let o=null;const h=Array.prototype.slice.call(arguments);if(h.push(e),n.withPositions||n.withSource){let t=null;n.withSource&&(t=i.lexer._input.substring(s.offset,i.prev[2])),o=new G(t,s,new m(i.prev[0],i.prev[1],i.prev[2])),h.push(o)}t||(t=h.shift());const a=n[t];if("function"!=typeof a)throw new Error('Undefined node "'+t+'"');const c=Object.create(a.prototype);return a.apply(c,h),r.instance=c,r.trailingComments&&(c.trailingComments=r.trailingComments),"function"==typeof r.postBuild&&r.postBuild(c),i.debug&&delete Qs.stack[r.stackUid],n.resolvePrecedence(c,i)};return i.debug&&(Qs.stack||(Qs.stack={},Qs.stackUid=1),Qs.stack[++Qs.stackUid]={position:s,stack:(new Error).stack.split("\n").slice(3,5)},r.stackUid=Qs.stackUid),r.setTrailingComments=function(t){r.instance?r.instance.setTrailingComments(t):r.trailingComments=t},r.destroy=function(t){e&&(t?t.leadingComments?t.leadingComments=e.concat(t.leadingComments):t.leadingComments=e:i._docIndex=i._docs.length-e.length),i.debug&&delete Qs.stack[r.stackUid]},r},Qs.prototype.checkNodes=function(){const t=[];for(const e in Qs.stack)Object.prototype.hasOwnProperty.call(Qs.stack,e)&&t.push(Qs.stack[e]);return Qs.stack={},t},[$,K,J,q,et,st,rt,lt,dt,Tt,Et,xt,At,Nt,St,Rt,Ut,Mt,Ht,Gt,Wt,Yt,$t,wt,Kt,It,qt,te,ee,se,re,ae,le,ue,pe,Te,Ee,Y,xe,ye,ge,Ce,Le,Ie,Re,we,De,Ue,Me,He,Ve,Qe,je,ut,ze,Xe,qe,ti,ii,hi,ci,li,ui,W,pi,Ti,Ei,xi,Ai,Ni,ot,Si,Oi,bi,Ri,wi,Pi,Bi,Fi,Vi,ni,Qi,ji,zi,Xi,at,qi,ts,is,ns,os,as,ls,us,ps,Ts,Es,ms,As,Ns,Ss,Os,bs,ws,Ps,Bs,Fs,Gs,Ws].forEach((function(t){Qs.prototype[t.kind]=t}));var Ys=Qs;function js(t,e){const i=Object.keys(t);let s=i.length;for(;s--;){const n=i[s],r=t[n];null===r?delete e[n]:"function"==typeof r?e[n]=r.bind(e):Array.isArray(r)?e[n]=Array.isArray(e[n])?e[n].concat(r):r:e[n]="object"==typeof r&&"object"==typeof e[n]?js(r,e[n]):r}return e}const $s=function(t){if("function"==typeof this)return new this(t);if(this.tokens=H,this.lexer=new E(this),this.ast=new Ys,this.parser=new F(this.lexer,this.ast),t&&"object"==typeof t){if(t.parser&&(t.lexer||(t.lexer={}),t.parser.version)){if("string"==typeof t.parser.version){let e=t.parser.version.split(".");if(e=100*parseInt(e[0])+parseInt(e[1]),isNaN(e))throw new Error("Bad version number : "+t.parser.version);t.parser.version=e}else if("number"!=typeof t.parser.version)throw new Error("Expecting a number for version");if(t.parser.version<500||t.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}js(t,this),this.lexer.version=this.parser.version}},zs=function(t){return"function"==typeof t.write?t.toString():t};$s.create=function(t){return new $s(t)},$s.parseEval=function(t,e){return new $s(e).parseEval(t)},$s.prototype.parseEval=function(t){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,t=zs(t),this.parser.parse(t,"eval")},$s.parseCode=function(t,e,i){return"object"!=typeof e||i||(i=e,e="unknown"),new $s(i).parseCode(t,e)},$s.prototype.parseCode=function(t,e){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,t=zs(t),this.parser.parse(t,e)},$s.tokenGetAll=function(t,e){return new $s(e).tokenGetAll(t)},$s.prototype.tokenGetAll=function(t){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,t=zs(t);const e=this.lexer.EOF,i=this.tokens.values;this.lexer.setInput(t);let s=this.lexer.lex()||e;const n=[];for(;s!=e;){let t=this.lexer.yytext;Object.prototype.hasOwnProperty.call(i,s)&&(t=[i[s],t,this.lexer.yylloc.first_line]),n.push(t),s=this.lexer.lex()||e}return n};var Ks=$s,Xs=H,Js=E,qs=Ys,Zs=F,tn=js,en=$s,sn=$s;Ks.tokens=Xs,Ks.lexer=Js,Ks.AST=qs,Ks.parser=Zs,Ks.combine=tn,Ks.Engine=en,Ks.default=sn;var nn=function(t,e,i){const s=i&&"markdown"===i.parentParser;if(!t&&s)return"";t=t.replace(/\?>\r?\n<\?/g,"?>\n___PSEUDO_INLINE_PLACEHOLDER___<?");const n=new Ks({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),r=-1!==t.indexOf("<?php"),o=s&&!r;let h;try{h=o?n.parseEval(t):n.parseCode(t)}catch(t){throw t instanceof SyntaxError&&"lineNumber"in t&&(t.loc={start:{line:t.lineNumber,column:t.columnNumber}},delete t.lineNumber,delete t.columnNumber),t}return h.extra={parseAsEval:o},h.comments.forEach((t=>{"\r"===t.value[t.value.length-1]&&(t.value=t.value.slice(0,-1),t.loc.end.offset=t.loc.end.offset-1),"\n"===t.value[t.value.length-1]&&(t.value=t.value.slice(0,-1),t.loc.end.offset=t.loc.end.offset-1)})),h};const{hasNewline:rn,skipEverythingButNewLine:on,skipNewline:hn,isNextLineEmpty:an,isPreviousLineEmpty:cn,getNextNonSpaceNonCommentCharacterIndex:ln}=s.default.util,_n=s.default.version;function un(t,e){return parseInt(_n[0])>1?t[e]:t}const dn={};function pn(t){return dn[t]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach(((t,e)=>{t.forEach((t=>{dn[t]=e}))}));const fn=["==","!=","===","!==","<>","<=>"],Tn=["*","/","%"],kn=[">>","<<"];function En(t){return["block","program","namespace","class","interface","trait","traituse","declare"].includes(t.kind)}function mn(t){let{body:e}=t;return e?("block"===e.kind&&(e=e.children),e[0]):null}function xn(t){const e=t.children||t.body||t.adaptations;return Array.isArray(e)?e:null}function yn(t){const e=t.getParentNode();return e?xn(e):null}function An(t){return t.length>0?t[t.length-1]:null}function gn(t){const e=t.getValue();if("program"===e.kind){const t=xn(e);return!(!t||0===t.length)&&"inline"===t[0].kind}if("switch"===e.kind){if(!e.body)return!1;const t=xn(e.body);if(0===t.length)return!1;const[i]=t;if(!i.body)return!1;const s=xn(i.body);return 0!==s.length&&"inline"===s[0].kind}const i=mn(e);return!!i&&"inline"===i.kind}const Nn=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce(((t,e)=>(t[e.toLowerCase()]=e,t)),{});var Cn={printNumber:function(t){return t.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")},getPrecedence:pn,isBitwiseOperator:function(t){return!!kn[t]||"|"===t||"^"===t||"&"===t},shouldFlatten:function(t,e){return!(pn(e)!==pn(t)||"**"===t||fn.includes(t)&&fn.includes(e)||"%"===e&&Tn.includes(t)||"%"===t&&Tn.includes(e)||e!==t&&Tn.includes(e)&&Tn.includes(t)||kn.includes(t)&&kn.includes(e))},nodeHasStatement:En,getNodeListProperty:xn,getParentNodeListProperty:yn,getLast:An,getPenultimate:function(t){return t.length>1?t[t.length-2]:null},isLastStatement:function(t){const e=yn(t);if(!e)return!0;const i=t.getValue();return e[e.length-1]===i},getBodyFirstChild:mn,lineShouldEndWithSemicolon:function(t){const e=t.getValue(),i=t.getParentNode();if(!i)return!1;if(["for","foreach","while","do","if","switch"].includes(i.kind)&&"block"!==e.kind&&"if"!==e.kind&&(i.body===e||i.alternate===e))return!0;if(!En(i))return!1;if("echo"===e.kind&&e.shortForm)return!1;if("traituse"===e.kind)return!e.adaptations;if("method"===e.kind&&e.isAbstract)return!0;if("method"===e.kind){const e=t.getParentNode();if(e&&"interface"===e.kind)return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","global","static","echo","unset","return","break","continue","throw"].includes(e.kind)},fileShouldEndWithHardline:function(t){const e=t.getValue(),i="program"===e.kind,s=e.children&&An(e.children);if(!i)return!1;if(s&&["halt","inline"].includes(s.kind))return!1;if(s&&("declare"===s.kind||"namespace"===s.kind)){const t=s.children.length>0&&An(s.children);if(t&&["halt","inline"].includes(t.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(t){const e=t.replace(/^\\/,"");return-1!==e.indexOf("\\")?e:t},hasDanglingComments:function(t){return t.comments&&t.comments.some((t=>!t.leading&&!t.trailing))},hasLeadingComment:function(t){return t.comments&&t.comments.some((t=>t.leading))},hasTrailingComment:function(t){return t.comments&&t.comments.some((t=>t.trailing))},docShouldHaveTrailingNewline:function t(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const s=e.getNode(i),n=e.getNode(i+1),r=e.getNode(i+2);if(!n)return!1;if(r&&["call","new","echo"].includes(r.kind)&&!["call","array"].includes(n.kind)||"parameter"===n.kind){const t=r.arguments.length-1;return r.arguments.indexOf(n)!==t}if(r&&"for"===r.kind){const t=r.init.indexOf(n);if(-1!==t)return t!==r.init.length-1;const e=r.test.indexOf(n);if(-1!==e)return e!==r.test.length-1;const i=r.increment.indexOf(n);if(-1!==i)return i!==r.increment.length-1}if("bin"===n.kind)return n.left===s||t(e,i+1);if("case"===n.kind&&n.test===s)return!0;if("staticvariable"===n.kind){const t=r.variables.length-1;return r.variables.indexOf(n)!==t}if("entry"===n.kind){if(n.key===s)return!0;const t=r.items.length-1;return r.items.indexOf(n)!==t}if(["call","new"].includes(n.kind)){const t=n.arguments.length-1;return n.arguments.indexOf(s)!==t}if("echo"===n.kind){const t=n.expressions.length-1;return n.expressions.indexOf(s)!==t}if("array"===n.kind){const t=n.items.length-1;return n.items.indexOf(s)!==t}return"retif"===n.kind&&t(e,i+1)},isLookupNode:function(t){return"propertylookup"===t.kind||"nullsafepropertylookup"===t.kind||"staticlookup"===t.kind||"offsetlookup"===t.kind},isFirstChildrenInlineNode:gn,shouldPrintHardLineAfterStartInControlStructure:function(t){const e=t.getValue();return!["try","catch"].includes(e.kind)&&gn(t)},shouldPrintHardLineBeforeEndInControlStructure:function(t){const e=t.getValue();if(["try","catch"].includes(e.kind))return!0;if("switch"===e.kind){const t=xn(e.body);if(0===t.length)return!0;const i=An(t);if(!i.body)return!0;const s=xn(i.body);return 0===s.length||"inline"!==s[0].kind}return!gn(t)},getAlignment:function(t){const e=t.split("\n").pop();return e.length-e.trimLeft().length+1},isProgramLikeNode:function(t){return["program","declare","namespace"].includes(t.kind)},isReferenceLikeNode:function(t){return["name","parentreference","selfreference","staticreference"].includes(t.kind)},getNodeKindIncludingLogical:function(t){return"bin"===t.kind&&["||","&&"].includes(t.type)?"logical":t.kind},useDoubleQuote:function(t,e){if(t.isDoubleQuote===e.singleQuote){const e=t.raw.slice("b"===t.raw[0]?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return t.isDoubleQuote?e:!e}return t.isDoubleQuote},hasEmptyBody:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";const i=t.getValue();return i[e]&&i[e].children&&0===i[e].children.length&&(!i[e].comments||0===i[e].comments.length)},isNextLineEmptyAfterNamespace:function(t,e,i){let s=i(e);return s=on(t,s),s=hn(t,s),rn(t,s)},shouldPrintHardlineBeforeTrailingComma:function(t){return"nowdoc"===t.kind||"encapsed"===t.kind&&"heredoc"===t.type||"entry"===t.kind&&("nowdoc"===t.value.kind||"encapsed"===t.value.kind&&"heredoc"===t.value.type)},isDocNode:function(t){return"nowdoc"===t.kind||"encapsed"===t.kind&&"heredoc"===t.type},getAncestorNode:function(t,e){const i=function(t,e){const i=[].concat(e);let s,n=-1;for(;s=t.getParentNode(++n);)if(-1!==i.indexOf(s.kind))return n;return-1}(t,e);return-1===i?null:t.getParentNode(i)},getNextNode:function(t,e){const i=t.getParentNode(),s=xn(i);if(!s)return null;const n=s.indexOf(e);return-1===n?null:i.children[n+1]},normalizeMagicMethodName:function(t){const e=t.toLowerCase();return Nn[e]?Nn[e]:t},isPreviousLineEmpty:function(t,e,i){return cn(t,e,un(i,"locStart"))},isNextLineEmpty:function(t,e,i){return an(t,e,un(i,"locEnd"))},getNextNonSpaceNonCommentCharacterIndex:function(t,e,i){return ln(t,e,un(i,"locEnd"))}};const{addLeadingComment:Sn,addDanglingComment:Ln,addTrailingComment:On,skipNewline:In,hasNewline:bn,hasNewlineInRange:Rn}=s.default.util,{concat:vn,join:wn,indent:Dn,hardline:Pn,cursor:Un,lineSuffix:Bn,breakParent:Mn}=s.default.doc.builders,{getNextNonSpaceNonCommentCharacterIndex:Fn,isNextLineEmpty:Hn,isPreviousLineEmpty:Gn,isLookupNode:Vn}=Cn;function Wn(t,e){const{children:i}=t;0===i.length?Ln(t,e):Sn(i[0],e)}function Qn(t,e){"block"===t.kind?Wn(t,e):Sn(t,e)}function Yn(t,e,i,s,n,r){const o=Fn(t,n,r),h=t.charAt(o);return e&&"identifier"===e.kind&&i&&("function"===i.kind||"method"===i.kind)&&")"===h?(On(i,n),!0):!(!i||"function"!==i.kind&&"method"!==i.kind||!s||"block"!==s.kind||(Wn(s,n),0))}function jn(t,e,i,s,n,r){if(!i||"if"!==i.kind||!s)return!1;const o=Fn(t,n,r);return")"===t.charAt(o)?(On(e,n),!0):e===i.body&&s===i.alternate?(Ln(i,n),!0):"if"===s.kind?(Qn(s.body,n),!0):i.body===s&&(Sn(s,n),!0)}function $n(t,e,i){if(t&&["class","interface","trait"].includes(t.kind)){if(e&&t.extends)if(Array.isArray(t.extends)){if(t.extends.some((t=>{if(e&&e===t)return Ln(e,i),!0})))return!0}else if(e===t.extends)return Ln(e,i),!0;if(e&&t.implements&&t.implements.some((t=>{if(e&&e===t)return Ln(e,i),!0})))return!0;if(!(t.body&&t.body.length>0))return Ln(t,i),!0}return!!(e&&"class"===e.kind&&e.isAnonymous&&e.leadingComments&&"commentblock"===i.kind)}function zn(t,e,i,s,n){if(e&&("function"===e.kind||"method"===e.kind)){let i=0;for(let t=0;t<e.arguments.length;t++)i=n.locEnd(e.arguments[t])>i?n.locEnd(e.arguments[t]):i;const r=e.body&&n.locStart(s)>i&&n.locEnd(s)<n.locStart(e.body),o=Fn(t,s,n);if(e.type&&r&&")"!==t.charAt(o))return n.locEnd(s)<n.locStart(e.type)?(Ln(e.type,s),!0):(On(e.type,s),!0)}return!1}function Kn(t,e,i,s,n){return!(!i||!["function","method","parameter"].includes(i.kind)||"typereference"!==e.kind||"identifier"!==s.kind||(On(e,n),0))}function Xn(t,e){return!(!t||!["label","goto"].includes(t.kind)||(On(t,e),0))}function Jn(t,e,i,s){return i&&"inline"===i.kind?(i.leadingComments||(i.leadingComments=[]),i.leadingComments.includes(s)||i.leadingComments.push(s),!0):!(t||i||!e||"inline"!==e.kind||(Ln(e,s),0))}function qn(t,e,i){return!(!t||"try"!==t.kind||!e||("block"===e.kind?(Wn(e,i),0):"try"===e.kind?(Qn(e.always,i),0):"catch"!==e.kind||(Qn(e.body,i),0)))}function Zn(t,e,i,s){return i||e||!t||"namespace"!==t.kind||t.withBrackets?!(e||!t||"namespace"!==t.kind||t.withBrackets||(Ln(t,s),0)):(On(t,s),!0)}function er(t,e,i,s){return!(!t||"declare"!==t.kind||e&&"noop"===e.kind||(i&&t.directives[0]!==i?!i||!e||(Sn(i,s),0):("none"===t.mode?On(t,s):Ln(t,s),0)))}function tr(t,e,i,s,n,r){if(!i||"while"!==i.kind||!s)return!1;const o=Fn(t,n,r);return")"===t.charAt(o)?(On(e,n),!0):"block"===s.kind&&(Wn(s,n),!0)}function ir(t,e){return t.getValue().printed=!0,e.printer.printComment(t,e)}function sr(t,e,i){return t.getNode()===e.cursorNode&&t.getValue()?vn([Un,i,Un]):i}var nr={handleOwnLineComment:function(t,e,i){const{precedingNode:s,enclosingNode:n,followingNode:r}=t;return Yn(e,s,n,r,t,i)||function(t,e,i){return!!(t&&Vn(t)&&e&&["identifier","variable","encapsed"].includes(e.kind))&&(Sn(t,i),!0)}(n,r,t)||jn(e,s,n,r,t,i)||tr(e,s,n,r,t,i)||qn(n,r,t)||$n(n,r,t)||Kn(e,s,n,r,t)||zn(e,n,r,t,i)||function(t,e,i,s){return!(i||!t||"for"!==t.kind&&"foreach"!==t.kind||(t.body&&"block"!==t.body.kind?Sn(i,s):Sn(t,s),0))}(n,0,r,t)||Jn(n,s,r,t)||er(n,s,r,t)},handleEndOfLineComment:function(t,e,i){const{precedingNode:s,enclosingNode:n,followingNode:r}=t;return function(t,e,i,s,n){return!(e||s||!i||"array"!==i.kind||(On(i,n),0))}(0,s,n,r,t)||function(t,e,i,s,n){return!(!i||"return"!==i.kind||i.expr||(On(i,n),0))}(0,0,n,0,t)||Yn(e,s,n,r,t,i)||function(t,e,i,s,n,r){const o=e&&!Rn(n,r.locEnd(e),r.locStart(s));return!(e&&o||!t||"retif"!==t.kind||!i||(Sn(i,s),0))}(n,s,r,t,e,i)||jn(e,s,n,r,t,i)||tr(e,s,n,r,t,i)||qn(n,r,t)||$n(n,r,t)||Kn(e,s,n,r,t)||zn(e,n,r,t,i)||function(t,e){return!(!t||"entry"!==t.kind||(Sn(t,e),0))}(n,t)||function(t,e,i){return!!(e&&"call"===e.kind&&t&&e.what===t&&e.arguments.length>0)&&(Sn(e.arguments[0],i),!0)}(s,n,t)||function(t,e,i){if(t&&"assign"===t.kind&&e){const s=t.loc.start.offset+t.loc.source.indexOf("=");if(i.loc.start.offset>s)return Sn(e,i),!0}return!1}(n,r,t)||Jn(n,s,r,t)||Zn(n,s,r,t)||er(n,s,r,t)||Xn(n,t)},handleRemainingComment:function(t,e,i){const{precedingNode:s,enclosingNode:n,followingNode:r}=t;return jn(e,s,n,r,t,i)||tr(e,s,n,r,t,i)||function(t,e,i,s){const n=Fn(t,i,s);return!(")"!==t.charAt(n)||!e||"function"!==e.kind&&"closure"!==e.kind&&"method"!==e.kind&&"call"!==e.kind&&"new"!==e.kind||0!==e.arguments.length||(Ln(e,i),0))}(e,n,t,i)||$n(n,r,t)||function(t,e,i){return!(!t||"traituse"!==t.kind||!t.adaptations||t.adaptations.length||(Ln(t,i),0))}(n,0,t)||Kn(e,s,n,r,t)||zn(e,n,r,t,i)||Xn(n,t)||function(t,e,i,s){return e&&"halt"===e.kind?(Ln(e,s),!0):!(!t||"halt"!==t.kind||(Ln(t,s),0))}(s,n,0,t)||function(t,e){return!(!t||"continue"!==t.kind&&"break"!==t.kind||t.label||(On(t,e),0))}(n,t)||Jn(n,s,r,t)||Zn(n,s,r,t)},getCommentChildNodes:function(t){return"object"!=typeof t?[]:(t=>Object.keys(t).filter((t=>"kind"!==t&&"loc"!==t&&"errors"!==t&&"extra"!==t&&"comments"!==t&&"leadingComments"!==t&&"enclosingNode"!==t&&"precedingNode"!==t&&"followingNode"!==t)).map((e=>t[e])))(t)},canAttachComment:function(t){return t.kind&&"commentblock"!==t.kind&&"commentline"!==t.kind},isBlockComment:function(t){return"commentblock"===t.kind},printDanglingComments:function(t,e,i,s){const n=[],r=t.getValue();return r&&r.comments?(t.each((t=>{const i=t.getValue();!i||i.leading||i.trailing||s&&!s(i)||n.push(ir(t,e))}),"comments"),0===n.length?"":i?wn(Pn,n):Dn(vn([Pn,wn(Pn,n)]))):""},hasLeadingComment:function(t){return t.comments&&t.comments.some((t=>t.leading))},hasTrailingComment:function(t){return t.comments&&t.comments.some((t=>t.trailing))},hasLeadingOwnLineComment:function(t,e,i){return e.comments&&e.comments.some((e=>e.leading&&bn(t,i.locEnd(e))))},printComments:function(t,e){const i=[];return t.forEach(((t,s,n)=>{t.printed=!0;const r=n.length===s+1;i.push(t.value),r||i.push(Pn),Hn(e.originalText,t,e)&&!r&&i.push(Pn)})),vn(i)},printAllComments:function(t,e,i,s){const n=t.getValue(),r=e(t),o=n&&n.comments;if(!o||0===o.length)return sr(t,i,r);const h=[],a=[s?";":"",r];return t.each((t=>{const e=t.getValue(),{leading:s,trailing:n}=e;if(s){const s=function(t,e,i){const s=t.getValue(),n=ir(t,i);if(!n)return"";const r=i.printer.isBlockComment&&i.printer.isBlockComment(s);return vn(r?[n,bn(i.originalText,i.locEnd(s))?Pn:" "]:[n,Pn])}(t,0,i);if(!s)return;h.push(s);const n=i.originalText;bn(n,In(n,i.locEnd(e)))&&h.push(Pn)}else n&&a.push(function(t,e,i){const s=t.getValue(),n=ir(t,i);if(!n)return"";const r=i.printer.isBlockComment&&i.printer.isBlockComment(s);if(bn(i.originalText,i.locStart(s),{backwards:!0})){const t=Gn(i.originalText,s,i);return Bn(vn([Pn,t?Pn:"",n]))}return vn(r?[" ",n]:[Bn(vn([" ",n])),r?"":Mn])}(t,0,i))}),"comments"),sr(t,i,vn(h.concat(a)))}};function rr(){}rr.strictEqual=function(){};var or=rr;const{getPrecedence:ar,shouldFlatten:hr,isBitwiseOperator:cr}=Cn;var lr=function(t){const e=t.getParentNode();if(!e)return!1;const i=t.getName(),s=t.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(e.kind))return!1;switch(s.kind){case"pre":case"post":if("unary"===e.kind)return"pre"===s.kind&&("+"===s.type&&"+"===e.type||"-"===s.type&&"-"===e.type);case"unary":switch(e.kind){case"unary":return s.type===e.type&&("+"===s.type||"-"===s.type);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===s;case"bin":return"**"===e.type&&"left"===i;default:return!1}case"bin":switch(e.kind){case"assign":case"retif":return["and","xor","or"].includes(s.type);case"silent":case"cast":return s.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":return"what"===i&&e.what===s;case"bin":{const t=e.type,n=ar(t),r=s.type,o=ar(r);return n>o||"||"===t&&"&&"===r||(n===o&&"right"===i?(or.strictEqual(e.right,s),!0):n===o&&!hr(t,r)||(n<o&&"%"===r?"+"===t||"-"===t:!!cr(t)))}default:return!1}case"propertylookup":case"nullsafepropertylookup":case"staticlookup":return"call"===e.kind&&"what"===i&&e.what===s&&s.parenthesizedExpression;case"clone":case"new":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===s;default:return!1}case"yield":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===s;case"retif":return e.test===s;default:return!(!s.key&&!s.value)}case"assign":return("for"!==e.kind||!e.init.includes(s)&&!e.increment.includes(s))&&"assign"!==e.kind&&"static"!==e.kind&&!["if","do","while","foreach","switch"].includes(e.kind)&&"silent"!==e.kind&&"call"!==e.kind;case"retif":switch(e.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!("test"===i&&!e.trueExpr);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===s;default:return!1}case"closure":switch(e.kind){case"call":return"what"===i&&e.what===s;case"propertylookup":case"nullsafepropertylookup":return!0;default:return!1}case"silence":case"cast":return s.parenthesizedExpression;case"string":case"array":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(s.kind)||"offsetlookup"!==e.kind)&&"what"===i&&e.what===s;default:return!1}case"print":case"include":return"bin"===e.kind}return!1};const{breakParent:_r,concat:ur,join:dr,line:pr,lineSuffix:fr,group:Tr,conditionalGroup:kr,indent:Er,dedent:mr,ifBreak:xr,hardline:yr,softline:Ar,literalline:gr,align:Nr,dedentToRoot:Cr}=s.default.doc.builders,{willBreak:Sr}=s.default.doc.utils,{isNextLineEmptyAfterIndex:Lr,hasNewline:Or,hasNewlineInRange:Ir}=s.default.util,{getLast:Rr,getPenultimate:br,isLastStatement:vr,lineShouldEndWithSemicolon:wr,printNumber:Dr,shouldFlatten:Pr,maybeStripLeadingSlashFromUse:Ur,fileShouldEndWithHardline:Br,hasDanglingComments:Mr,hasLeadingComment:Fr,hasTrailingComment:Hr,docShouldHaveTrailingNewline:Gr,isLookupNode:Vr,isFirstChildrenInlineNode:Wr,shouldPrintHardLineAfterStartInControlStructure:Qr,shouldPrintHardLineBeforeEndInControlStructure:Yr,getAlignment:jr,isProgramLikeNode:$r,getNodeKindIncludingLogical:zr,useDoubleQuote:Kr,hasEmptyBody:Xr,isNextLineEmptyAfterNamespace:Jr,shouldPrintHardlineBeforeTrailingComma:qr,isDocNode:Zr,getAncestorNode:to,isReferenceLikeNode:eo,getNextNode:io,normalizeMagicMethodName:so,getNextNonSpaceNonCommentCharacterIndex:no,isNextLineEmpty:ro}=Cn;function oo(t,e){return parseFloat(t)>=parseFloat(e)}function ho(t,e){return!!t.trailingCommaPHP&&oo(t.phpVersion,e)}function ao(t){return"1tbs"!==t.braceStyle}function co(t,e,i){return ur([arguments.length>3&&void 0!==arguments[3]&&arguments[3]?"?":"","->",t.call(i,"offset")])}function lo(t,e,i){return co(t,e,i,!0)}function _o(t,e,i){const s=t.getValue(),n=!["variable","identifier"].includes(s.offset.kind);return ur(["::",n?"{":"",t.call(i,"offset"),n?"}":""])}function uo(t,e,i){const s=t.getValue(),n=s.offset&&"number"===s.offset.kind||to(t,"encapsed");return ur(["[",s.offset?Tr(ur([Er(ur([n?"":Ar,t.call(i,"offset")])),n?"":Ar])):"","]"])}function po(t){return"array"===t.kind&&(t.items.length>0||t.comments)||"function"===t.kind||"method"===t.kind||"closure"===t.kind}function fo(t){const e=Rr(t),i=br(t);return!Fr(e)&&!Hr(e)&&po(e)&&(!i||i.kind!==e.kind)}function To(t){if(2!==t.length)return!1;const[e,i]=t;return!(e.comments&&e.comments.length||"function"!==e.kind&&"method"!==e.kind&&"closure"!==e.kind||"retif"===i.kind||po(i))}function ko(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"arguments";const n=t.getValue()[s];if(0===n.length)return ur(["(",nr.printDanglingComments(t,e,!0),")"]);let r=!1,o=!1;const h=n.length-1,a=t.map(((t,s)=>{const n=t.getNode(),a=[i(t)];return s===h||(ro(e.originalText,n,e)?(0===s&&(o=!0),r=!0,a.push(",",yr,yr)):a.push(",",pr)),ur(a)}),s),c=t.getValue(),l=Rr(n),_=ho(e,"7.3")&&["call","new","unset","isset"].includes(c.kind)||ho(e,"8.0")&&["function","closure","method","arrowfunc","attribute"].includes(c.kind)?Er(ur([l&&qr(l)?yr:"",","])):"";function u(){return Tr(ur(["(",Er(ur([pr,ur(a)])),_,pr,")"]),{shouldBreak:!0})}const d=To(n),p=fo(n);if(d||p){const e=(d?a.slice(1).some(Sr):a.slice(0,-1).some(Sr))||r;let h,c=0;t.each((t=>{d&&0===c&&(h=[ur([t.call((t=>i(t,{expandFirstArg:!0}))),a.length>1?",":"",o?yr:pr,o?yr:""])].concat(a.slice(1))),p&&c===n.length-1&&(h=a.slice(0,-1).concat(t.call((t=>i(t,{expandLastArg:!0}))))),c++}),s);const l=a.some(Sr),f=ur(["(",ur(h),")"]);return ur([l?_r:"",kr([l?xr(u(),f):f,ur(d?["(",Tr(h[0],{shouldBreak:!0}),ur(h.slice(1)),")"]:["(",ur(a.slice(0,-1)),Tr(Rr(h),{shouldBreak:!0}),")"]),Tr(ur(["(",Er(ur([pr,ur(a)])),xr(_),pr,")"]),{shouldBreak:!0})],{shouldBreak:e})])}return Tr(ur(["(",Er(ur([Ar,ur(a)])),xr(_),Ar,")"]),{shouldBreak:a.some(Sr)||r})}function Eo(t){return"array"===t.kind&&0!==t.items.length}function mo(t){return"array"===t.right.kind&&0!==t.right.items.length}function xo(t,e,i){const s=t.getValue();switch(s.kind){case"propertylookup":return co(t,e,i);case"nullsafepropertylookup":return lo(t,e,i);case"staticlookup":return _o(t,0,i);case"offsetlookup":return uo(t,0,i);default:return"Have not implemented lookup kind ".concat(s.kind," yet.")}}function yo(t){let{opening:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("heredoc"===t.type)return e?"<<<".concat(t.label):t.label;const i={string:'"',shell:"`"};return i[t.type]?i[t.type]:"Unimplemented encapsed type ".concat(t.type)}function Ao(t,e,i){const s=[];let n=[];return t.each((t=>{s.push(ur(n)),s.push(Tr(i(t))),n=[",",pr],t.getValue()&&ro(e.originalText,t.getValue(),e)&&n.push(Ar)}),"items"),ur(s)}function go(t,e){if(0===e.length)return t;let i=0;return e.reduce(((e,s)=>{const{start:n,end:r,alignment:o,before:h,after:a}=s,c=ur([h||"",ur(t.slice(n,r)),a||""]),l=e.concat(t.slice(i,n),o?Cr(Tr(ur([Nr(new Array(o).join(" "),c)]))):Tr(c),r===t.length-1?t.slice(r):"");return i=r,l}),[])}function No(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children";const n=t.getValue(),r=t.getParentNode();let o=-1;const h=[],a=[];t.map(((c,l)=>{const _=c.getValue(),u="inline"===_.kind,d=i(c),p=n[s],f=p[l+1],T=!vr(c)&&!u&&(f&&"case"===f.kind?!Wr(t):f&&"inline"!==f.kind);let k=ur([d,T?yr:"",T&&ro(e.originalText,_,e)?yr:""]);const E=0===l,m=p.length-1===l,x="block"===n.kind&&r&&["function","closure","method","try","catch"].includes(r.kind);let y=x&&E?"":" ";if(u||!u&&m&&o>=0){const t=o;if(u&&(o=l),u&&!E||!u&&m){const e=(u?t:o)+1,i=m&&!u?l+1:l,s=p[u?t:o],r=s?jr(s.raw):"",h=i-e>1,c=h?x&&!s||$r(n)&&0===e?"":yr:"",d=h&&"halt"!==_.kind?x&&m?"":yr:"";h&&(y=""),a.push({start:e,end:i,alignment:r,before:c,after:d})}}if(u){const i=f&&"echo"===f.kind&&f.shortForm?"<?=":"<?php",s=_.leadingComments&&_.leadingComments.length?ur([E&&"namespace"!==n.kind&&!x?"<?php":"","namespace"!==n.kind&&x?"":yr,nr.printComments(_.leadingComments,e),yr,"?>"]):$r(n)&&E&&"namespace"!==n.kind?"":ur([y,"?>"]),r=t.getNode(l+1),o=r&&r.children&&r.children.length,h=_.comments&&_.comments.length?ur([i,yr,o?nr.printComments(_.comments,e):"",yr,o?"?>":""]):$r(n)&&m?"":ur([i," "]);k=ur([s,k,h])}h.push(k)}),s);const c=go(h,a);if("program"===n.kind&&!n.extra.parseAsEval){const t=[],[i]=n.children;if(!i||"inline"!==i.kind){const s=e.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),r=ur([s&&s[2]&&s[2].includes("\n")?ur([yr,s[2].split("\n").length>2?yr:""]):" ",n.comments?nr.printComments(n.comments,e):""]),o=i&&"echo"===i.kind&&i.shortForm;t.push(ur([o?"<?=":"<?php",r]))}if(t.push(ur(c)),e.originalText.trim().endsWith("?>")){const i=Rr(n.children),s=i?ur([Ir(e.originalText.trimEnd(),e.locEnd(i),e.locEnd(n))?yr:" ",ro(e.originalText,i,e)?yr:""]):n.comments?yr:"";t.push(fr(ur([s,"?>"])))}return ur(t)}return ur(c)}function Co(t,e,i,s){return ur(t.map((t=>{const s=[];return s.push(i(t)),vr(t)||(s.push(yr),ro(e.originalText,t.getValue(),e)&&s.push(yr)),ur(s)}),s))}function So(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"extends",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:" ",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:" ";const o=t.getValue(),h=Mr(o[s])?ur([yr,t.call((t=>nr.printDanglingComments(t,e,!0)),s),yr]):n,a=Array.isArray(o[s])?Tr(ur([dr(",",t.map((t=>{const s=i(t);return Mr(t.getValue())?ur([yr,nr.printDanglingComments(t,e,!0),yr,s]):ur([r,s])}),s))])):ur([r,t.call(i,s)]);return Er(ur([h,s,Sr(h)?Er(a):a]))}function Lo(t,e,i){let{inline:s=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=[];return t.getValue().attrGroups?(t.each((t=>{const r=["#["];!s&&n.length>0&&n.push(yr),r.push(Ar),t.each((t=>{const s=t.getValue();r.length>2&&r.push(",",pr);const n=[s.name];s.args.length>0&&n.push(ko(t,e,i,"args")),r.push(Tr(ur(n)))}),"attrs"),n.push(Tr(ur([Er(ur(r)),xr(ho(e,"8.0")?",":""),Ar,"]",s?xr(Ar," "):""])))}),"attrGroups"),0===n.length?[]:[ur([...n,s?"":yr])]):[]}function Oo(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body";const n=t.getValue();if(!n[s])return";";const r=t.call(i,s);return ur([n.shortForm?":":" {",Er(ur(["block"!==n[s].kind||n[s].children&&n[s].children.length>0||n[s].comments&&n[s].comments.length>0?ur([Qr(t)?"switch"===n.kind?" ":"":yr,r]):""])),"if"===n.kind&&"body"===s?"":ur([Yr(t)?yr:"",n.shortForm?ur(["end",n.kind,";"]):"}"])])}function Io(t,e,i,s,n,r,o){if(!s)return e;const h=bo(t,s,n,r,o);return Tr(ur([e,i,h]))}function bo(t,e,i,s,n){const r=s?"&":"";if(nr.hasLeadingOwnLineComment(n.originalText,e,n))return Er(ur([yr,r,i]));const o="cast"===e.kind?e.expr:e;return"bin"===o.kind&&!mo(o)||"retif"===o.kind&&(!o.trueExpr&&!Eo(o.falseExpr)||"bin"===o.test.kind&&!mo(o.test))||("variable"===t.kind||"string"===t.kind||Vr(t))&&("string"===o.kind&&!Ro(o)||function t(e){return!!Vr(e)&&(!("variable"!==e.what.kind&&!eo(e.what))||t(e.what))}(o))?Tr(Er(ur([pr,r,i]))):ur([" ",r,i])}function Ro(t){return t.raw.includes("\n")}function vo(t,e,i){return("string"===t.kind||"encapsed"===t.kind&&("string"===t.type||"shell"===t.type))&&Ro(t)&&!Or(e,i.locStart(t),{backwards:!0})}var wo=function(t,e,i){const s=t.getValue();if(!s)return"";if("string"==typeof s)return s;const n=function(t,e,i){const s=t.getValue();switch(s.kind){case"program":return Tr(ur([No(t,e,i),nr.printDanglingComments(t,e,!0,(t=>!t.printed))]));case"expressionstatement":return t.call(i,"expression");case"block":return ur([No(t,e,i),nr.printDanglingComments(t,e,!0)]);case"declare":{const n=t=>dr(", ",t.map((t=>ur([i(t)])),"directives"));if(["block","short"].includes(s.mode))return ur(["declare(",n(t),")","block"===s.mode?" {":":",s.children.length>0?Er(ur([yr,No(t,e,i)])):"",nr.printDanglingComments(t,e),yr,"block"===s.mode?"}":"enddeclare;"]);const r=io(t,s);return ur(["declare(",n(t),")",r&&"inline"===r.kind?"":";"])}case"declaredirective":return ur([t.call(i,"key"),"=",t.call(i,"value")]);case"namespace":return ur(["namespace ",s.name&&"string"==typeof s.name?ur([s.name,s.withBrackets?" ":""]):"",s.withBrackets?"{":";",Mr(s)?ur([" ",nr.printDanglingComments(t,e,!0)]):"",s.children.length>0?s.withBrackets?Er(ur([yr,No(t,e,i)])):ur(["inline"===s.children[0].kind?"":ur([yr,Jr(e.originalText,s,e.locStart)?yr:""]),No(t,e,i)]):"",s.withBrackets?ur([yr,"}"]):""]);case"usegroup":return Tr(ur(["use ",s.type?ur([s.type," "]):"",Er(ur([s.name?ur([Ur(s.name),"\\{",Ar]):"",dr(ur([",",pr]),t.map((t=>ur([i(t)])),"items"))])),s.name?ur([xr(ho(e,"7.2")?",":""),Ar,"}"]):""]));case"useitem":return ur([s.type?ur([s.type," "]):"",Ur(s.name),Mr(s)?ur([" ",nr.printDanglingComments(t,e,!0)]):"",s.alias?ur([" as ",t.call(i,"alias")]):""]);case"class":case"interface":case"trait":return function(t,e,i){const s=t.getValue(),n="class"===s.kind&&s.isAnonymous,r=Lo(t,e,i,{inline:n}),o=n?[]:[...r];s.isFinal&&o.push("final "),s.isAbstract&&o.push("abstract "),o.push(n?"":s.kind),s.name&&o.push(" ",t.call(i,"name")),s.extends&&s.implements?o.push(kr([ur([So(t,e,i,"extends"),So(t,e,i,"implements")]),ur([So(t,e,i,"extends"),So(t,e,i,"implements"," ",yr)]),ur([So(t,e,i,"extends",yr," "),So(t,e,i,"implements",yr,s.implements.length>1?yr:" ")])],{shouldBreak:Mr(s.extends)})):(s.extends&&o.push(kr([So(t,e,i,"extends"),So(t,e,i,"extends"," ",yr),So(t,e,i,"extends",yr,s.extends.length>1?yr:" ")])),s.implements&&o.push(kr([So(t,e,i,"implements"),So(t,e,i,"implements"," ",yr),So(t,e,i,"implements",yr,s.implements.length>1?yr:" ")])));const h=Tr(ur([Tr(ur(o)),ao(e)?n?pr:yr:" "])),a=s.body&&0===s.body.length&&!Mr(s),c=ur(["{",Er(ur([a?"":yr,Co(t,e,i,"body")])),nr.printDanglingComments(t,e,!0),n&&a?Ar:yr,"}"]);return ur([h,c])}(t,e,i);case"traitprecedence":return ur([t.call(i,"trait"),"::",t.call(i,"method")," insteadof ",dr(", ",t.map(i,"instead"))]);case"traitalias":return ur([s.trait?ur([t.call(i,"trait"),"::"]):"",s.method?t.call(i,"method"):""," as ",dr(" ",[...s.visibility?[s.visibility]:[],...s.as?[t.call(i,"as")]:[]])]);case"traituse":return Tr(ur(["use ",Er(Tr(dr(ur([",",pr]),t.map(i,"traits")))),s.adaptations?ur([" {",s.adaptations.length>0?ur([Er(ur([yr,Co(t,e,i,"adaptations")])),yr]):Mr(s)?ur([pr,nr.printDanglingComments(t,e,!0),pr]):"","}"]):""]));case"function":case"closure":case"method":return function(t,e,i){const s=t.getValue(),n=[...Lo(t,e,i,{inline:"closure"===s.kind})];s.isFinal&&n.push("final "),s.isAbstract&&n.push("abstract "),s.visibility&&n.push(s.visibility," "),s.isStatic&&n.push("static "),n.push("function "),s.byref&&n.push("&"),s.name&&n.push(t.call(i,"name")),n.push(ko(t,e,i)),s.uses&&s.uses.length>0&&n.push(Tr(ur([" use ",ko(t,e,i,"uses")]))),s.type&&n.push(ur([": ",Mr(s.type)?ur([t.call((t=>nr.printDanglingComments(t,e,!0)),"type")," "]):"",s.nullable?"?":"",t.call(i,"type")]));const r=ur(n);if(!s.body)return r;const o="closure"===s.kind,h=ur(["{",Er(ur([Xr(t)?"":yr,t.call(i,"body")])),o&&Xr(t)?"":yr,"}"]);return o?ur([r," ",h]):0===s.arguments.length?ur([r,ao(e)?yr:" ",h]):n.some(Sr)?ur([r," ",h]):kr([ur([r,ao(e)?yr:" ",h]),ur([r," ",h])])}(t,e,i);case"arrowfunc":return ur([...Lo(t,e,i,{inline:!0}),s.isStatic?"static ":"","fn",ko(t,e,i),s.type?ur([": ",s.nullable?"?":"",t.call(i,"type")]):""," => ",t.call(i,"body")]);case"parameter":{let n="";1===s.flags?n="public ":2===s.flags?n="protected ":4===s.flags&&(n="private ");const r=ur([...Lo(t,e,i,{inline:!0}),n,s.nullable?"?":"",s.type?ur([t.call(i,"type")," "]):"",s.byref?"&":"",s.variadic?"...":"","$",t.call(i,"name")]);return s.value?Tr(ur([r,Mr(s)?" ":"",nr.printDanglingComments(t,e,!0),ur([" =",bo(s.name,s.value,t.call(i,"value"),!1,e)])])):r}case"variadic":return ur(["...",t.call(i,"what")]);case"property":return Tr(ur([s.type?ur([s.nullable?"?":"",t.call(i,"type")," "]):"","$",t.call(i,"name"),s.value?ur([" =",bo(s.name,s.value,t.call(i,"value"),!1,e)]):""]));case"propertystatement":{const n=[];t.map((t=>n.push(...Lo(t,e,i))),"properties");const r=t.map((t=>i(t)),"properties"),o=s.properties.some((t=>t.value));let h;1!==r.length||s.properties[0].comments?r.length>0&&(h=Er(r[0])):[h]=r;const a=s.visibility||null===s.visibility;return Tr(ur([...n,a?ur([null===s.visibility?"var":s.visibility,""]):"",s.isStatic?ur([a?" ":"","static"]):"",h?ur([" ",h]):"",Er(ur(r.slice(1).map((t=>ur([",",o?yr:pr,t])))))]))}case"if":{const n=[],r=Oo(t,e,i,"body"),o=Tr(ur(["if (",Tr(ur([Er(ur([Ar,t.call(i,"test")])),Ar])),")",r]));if(n.push(o,Wr(t)||!s.body?"":yr),s.alternate){n.push(s.shortForm?"":"} ");const r=Hr(s.body)&&s.body.comments.some((t=>t.trailing&&!nr.isBlockComment(t)))||function(t){if(!t.comments)return!1;const e=Rr(t.comments.filter((t=>!t.leading&&!t.trailing)));return e&&!nr.isBlockComment(e)}(s),o=!r;n.push(o?"":yr),Mr(s)&&n.push(ro(e.originalText,s.body,e)?yr:"",nr.printDanglingComments(t,e,!0),r?yr:" "),n.push("else",Tr("if"===s.alternate.kind?t.call(i,"alternate"):Oo(t,e,i,"alternate")))}else n.push(s.body?s.shortForm?"endif;":"}":"");return ur(n)}case"do":return ur(["do",Oo(t,e,i,"body")," while (",Tr(ur([Er(ur([Ar,t.call(i,"test")])),Ar])),")"]);case"while":case"switch":return Tr(ur([s.kind," (",Tr(ur([Er(ur([Ar,t.call(i,"test")])),Ar])),")",Oo(t,e,i,"body")]));case"for":{const n=Oo(t,e,i,"body"),r=nr.printDanglingComments(t,e,!0),o=r?ur([r,Ar]):"";return s.init.length||s.test.length||s.increment.length?ur([o,Tr(ur(["for (",Tr(ur([Er(ur([Ar,Tr(ur([dr(ur([",",pr]),t.map(i,"init"))])),";",pr,Tr(ur([dr(ur([",",pr]),t.map(i,"test"))])),";",pr,Tr(dr(ur([",",pr]),t.map(i,"increment")))])),Ar])),")",n]))]):ur([o,Tr(ur(["for (;;)",n]))])}case"foreach":{const n=Oo(t,e,i,"body"),r=nr.printDanglingComments(t,e,!0),o=r?ur([r,Ar]):"";return ur([o,Tr(ur(["foreach (",Tr(ur([Er(ur([Ar,t.call(i,"source"),pr,"as ",Tr(s.key?Er(dr(ur([" =>",pr]),[t.call(i,"key"),t.call(i,"value")])):t.call(i,"value"))])),Ar])),")",n]))])}case"try":{const n=[];return n.push("try",Oo(t,e,i,"body")),s.catches&&n.push(ur(t.map(i,"catches"))),s.always&&n.push(" finally",Oo(t,e,i,"always")),ur(n)}case"catch":return ur([" catch",s.what?ur([" (",dr(" | ",t.map(i,"what")),s.variable?ur([" ",t.call(i,"variable")]):"",")"]):"",Oo(t,e,i,"body")]);case"case":return ur([s.test?ur(["case ",s.test.comments?Er(t.call(i,"test")):t.call(i,"test"),":"]):"default:",s.body&&s.body.children&&s.body.children.length?Er(ur([Wr(t)?"":yr,t.call(i,"body")])):""]);case"break":case"continue":return s.level&&"number"===s.level.kind&&"1"!==s.level.value?ur(["".concat(s.kind," "),t.call(i,"level")]):s.kind;case"call":return 1===s.arguments.length&&vo(s.arguments[0],e.originalText,e)?ur([t.call(i,"what"),ur(["(",dr(", ",t.map(i,"arguments")),")"])]):Vr(s.what)?function(t,e,i){const s=[];function n(t){const{originalText:i}=e,s=no(i,t,e);return")"===i.charAt(s)?Lr(i,s+1,e):ro(i,t,e)}function r(t){const o=t.getValue();if("call"!==o.kind||!Vr(o.what)&&"call"!==o.what.kind)if(Vr(o)){let n=null;n="propertylookup"===o.kind?co(t,e,i):"nullsafepropertylookup"===o.kind?lo(t,e,i):"staticlookup"===o.kind?_o(t,e,i):uo(t,e,i),s.unshift({node:o,needsParens:lr(t),printed:nr.printAllComments(t,(()=>n),e)}),t.call((t=>r(t)),"what")}else s.unshift({node:o,printed:t.call(i)});else s.unshift({node:o,printed:ur([nr.printAllComments(t,(()=>ur([ko(t,e,i)])),e),n(o)?yr:""])}),t.call((t=>r(t)),"what")}const o=t.getValue();s.unshift({node:o,printed:ko(t,e,i)}),t.call((t=>r(t)),"what");for(let t=0;t<s.length;++t)"call"===s[t].node.kind&&s[t-1]&&["propertylookup","nullsafepropertylookup","staticlookup"].includes(s[t-1].node.kind)&&s[t-1].needsParens&&(s[0].printed=ur(["(",s[0].printed]),s[t-1].printed=ur([s[t-1].printed,")"]));const h=[];let a=[s[0]],c=1;for(;c<s.length&&("call"===s[c].node.kind||Vr(s[c].node)&&s[c].node.offset&&"number"===s[c].node.offset.kind);++c)a.push(s[c]);if("call"!==s[0].node.kind)for(;c+1<s.length&&Vr(s[c].node)&&Vr(s[c+1].node);++c)a.push(s[c]);h.push(a),a=[];let l=!1;for(;c<s.length;++c){if(l&&Vr(s[c].node)){if("offsetlookup"===s[c].node.kind&&s[c].node.offset&&"number"===s[c].node.offset.kind){a.push(s[c]);continue}h.push(a),a=[],l=!1}"call"===s[c].node.kind&&(l=!0),a.push(s[c]),s[c].node.comments&&nr.hasTrailingComment(s[c].node)&&(h.push(a),a=[],l=!1)}function _(t){const i=t[1].length&&"offsetlookup"===t[1][0].node.kind;if(1===t[0].length){const e=t[0][0].node;return"variable"===e.kind&&("this"===e.name||u&&s(e.name))||eo(e)}function s(t){return t.length<e.tabWidth}const n=Rr(t[0]).node;return Vr(n)&&("identifier"===n.offset.kind||"variable"===n.offset.kind)&&i}a.length>0&&h.push(a);const u="expressionstatement"===t.getParentNode().kind,d=h.length>=2&&!h[1][0].node.comments&&_(h);function p(t){const e=[];for(let i=0;i<t.length;i++)t[i+1]&&t[i+1].needsParens?(e.push("(",t[i].printed,t[i+1].printed,")"),i++):e.push(t[i].printed);return ur(e)}function f(t){return 0===t.length?"":Er(Tr(ur([yr,dr(yr,t.map(p))])))}const T=h.map(p),k=ur(T),E=d?3:2,m=h.slice(0,E).reduce(((t,e)=>t.concat(e)),[]),x=m.slice(1,-1).some((t=>nr.hasLeadingComment(t.node)))||m.slice(0,-1).some((t=>nr.hasTrailingComment(t.node)))||h[E]&&nr.hasLeadingComment(h[E][0].node),y=to(t,"encapsed");if(h.length<=E&&!x||y)return Tr(k);const A=Rr(d?h.slice(1,2)[0]:h[0]).node,g="call"!==A.kind&&n(A),N=ur([p(h[0]),d?ur(h.slice(1,2).map(p)):"",g?yr:"",f(h.slice(d?2:1))]),C=s.filter((t=>"call"===t.node.kind)).length;return x||C>=3||T.slice(0,-1).some(Sr)?Tr(N):ur([Sr(k)||g?_r:"",kr([k,N])])}(t,e,i):ur([t.call(i,"what"),ko(t,e,i)]);case"new":{const n=s.what&&"class"===s.what.kind&&s.what.isAnonymous;if(!n&&1===s.arguments.length&&vo(s.arguments[0],e.originalText,e))return ur(["new ",...t.call(Lo,"what"),t.call(i,"what"),"(",dr(", ",t.map(i,"arguments")),")"]);const r=[];if(r.push("new "),n)r.push(s.what.leadingComments&&"commentblock"===s.what.leadingComments[0].kind?ur([nr.printComments(s.what.leadingComments,e)," "]):"",...t.call((t=>Lo(t,e,i,{inline:!0})),"what"),"class",s.arguments.length>0?ur([" ",ko(t,e,i)]):"",Tr(t.call(i,"what")));else{const n=ur([t.call(i,"what"),ko(t,e,i)]);r.push(Fr(s.what)?Er(n):n)}return ur(r)}case"clone":return ur(["clone ",s.what.comments?Er(t.call(i,"what")):t.call(i,"what")]);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":{const n=t.getParentNode();let r,o=0;do{r=t.getParentNode(o),o++}while(r&&Vr(r));const h=to(t,"encapsed")||r&&("new"===r.kind||"assign"===r.kind&&"variable"!==r.left.kind)||"offsetlookup"===s.kind||(eo(s.what)||"variable"===s.what.kind)&&["identifier","variable","encapsedpart"].includes(s.offset.kind)&&n&&!Vr(n);return ur([t.call(i,"what"),h?xo(t,e,i):Tr(Er(ur([Ar,xo(t,e,i)])))])}case"exit":return Tr(ur([s.useDie?"die":"exit","(",s.expression?vo(s.expression,e.originalText,e)?t.call(i,"expression"):ur([Er(ur([Ar,t.call(i,"expression")])),Ar]):nr.printDanglingComments(t,e),")"]));case"global":return Tr(ur(["global ",Er(ur([dr(ur([",",pr]),t.map(i,"items"))]))]));case"include":return ur([s.require?"require":"include",s.once?"_once":""," ",s.target.comments?Er(t.call(i,"target")):t.call(i,"target")]);case"label":return ur([t.call(i,"name"),":"]);case"goto":return ur(["goto ",t.call(i,"label")]);case"throw":return ur(["throw ",s.what.comments?Er(t.call(i,"what")):t.call(i,"what")]);case"silent":return ur(["@",t.call(i,"expr")]);case"halt":return ur([Mr(s)?ur([nr.printDanglingComments(t,e,!0),yr]):"","__halt_compiler();",s.after]);case"eval":return Tr(ur(["eval(",vo(s.source,e.originalText,e)?t.call(i,"source"):ur([Er(ur([Ar,t.call(i,"source")])),Ar]),")"]));case"echo":{const e=t.map((t=>i(t)),"expressions");let n;return 1!==e.length||s.expressions[0].comments?e.length>0&&(n=Zr(s.expressions[0])||s.expressions[0].comments?Er(e[0]):mr(e[0])):[n]=e,Tr(ur([s.shortForm?"":"echo ",n||"",Er(ur(e.slice(1).map((t=>ur([",",pr,t])))))]))}case"print":return ur(["print ",s.expression.comments?Er(t.call(i,"expression")):t.call(i,"expression")]);case"return":{const n=[];if(n.push("return"),s.expr){const e=t.call(i,"expr");n.push(" ",s.expr.comments?Er(e):e)}return Mr(s)&&n.push(" ",nr.printDanglingComments(t,e,!0)),ur(n)}case"isset":case"unset":return Tr(ur([s.kind,ko(t,e,i,"variables")]));case"empty":return Tr(ur(["empty(",Er(ur([Ar,t.call(i,"expression")])),Ar,")"]));case"variable":{const e=t.getParentNode(),n=t.getParentNode(1),r="assign"===e.kind?"":s.byref?"&":"",o="encapsedpart"===e.kind&&"simple"===e.syntax&&e.curly||n&&"offsetlookup"===e.kind&&"encapsedpart"===n.kind&&"simple"===n.syntax&&n.curly?"":"$",h=s.curly?"{":"",a=s.curly?"}":"";return ur([r,o,h,t.call(i,"name"),a])}case"constantstatement":case"classconstant":{const n=Lo(t,e,i),r=t.map((t=>i(t)),"constants");let o;return 1!==r.length||s.constants[0].comments?r.length>0&&(o=Er(r[0])):[o]=r,Tr(ur([...n,s.visibility?ur([s.visibility," "]):"","const",o?ur([" ",o]):"",Er(ur(r.slice(1).map((t=>ur([",",yr,t])))))]))}case"constant":return Io(s.name,t.call(i,"name")," =",s.value,t.call(i,"value"),!1,e);case"static":{const e=t.map((t=>i(t)),"variables"),n=s.variables.some((t=>t.defaultValue));let r;return 1!==e.length||s.variables[0].comments?e.length>0&&(r=Er(e[0])):[r]=e,Tr(ur(["static",r?ur([" ",r]):"",Er(ur(e.slice(1).map((t=>ur([",",n?yr:pr,t])))))]))}case"staticvariable":return Io(s.variable,t.call(i,"variable")," =",s.defaultValue,t.call(i,"defaultValue"),!1,e);case"list":case"array":{const n="array"===s.kind&&oo(e.phpVersion,"5.4")||"list"===s.kind&&(s.shortForm||oo(e.phpVersion,"7.1")),r=n?"[":ur([s.kind,"("]),o=n?"]":")";if(0===s.items.length)return Mr(s)?Tr(ur([r,nr.printDanglingComments(t,e),Ar,o])):ur([r,o]);const h=Rr(s.items),a=h&&"noop"===h.kind,[c]=s.items.filter((t=>"noop"!==t.kind)).sort(((t,i)=>e.locStart(t)-e.locStart(i))),l=!(!c||!c.key)&&c&&Ir(e.originalText,e.locStart(s),e.locStart(c));return Tr(ur([r,Er(ur([Ar,Ao(t,e,i)])),a?",":"",xr(!a&&ho(e,"5.0")?ur([h&&qr(h)?yr:"",","]):""),nr.printDanglingComments(t,e,!0),Ar,o]),{shouldBreak:l})}case"entry":{const n=s.byRef?"&":"",r=s.unpack?"...":"";return s.key?Io(s.key,t.call(i,"key")," =>",s.value,t.call(i,"value"),n,e):ur([n,r,t.call(i,"value")])}case"yield":{const e=ur([s.key?ur([t.call(i,"key")," => "]):"",t.call(i,"value")]);return ur(["yield",s.key||s.value?" ":"",s.value&&s.value.comments?Er(e):e])}case"yieldfrom":return ur(["yield from ",s.value.comments?Er(t.call(i,"value")):t.call(i,"value")]);case"unary":return ur([s.type,t.call(i,"what")]);case"pre":return ur([s.type+s.type,t.call(i,"what")]);case"post":return ur([t.call(i,"what"),s.type+s.type]);case"cast":return ur(["(",s.type,") ",s.expr.comments?Er(t.call(i,"expr")):t.call(i,"expr")]);case"assignref":case"assign":{const n="assignref"===s.kind;return Io(s.left,t.call(i,"left"),ur([" ",n?"=":s.operator]),s.right,t.call(i,"right"),n,e)}case"bin":{const n=t.getParentNode(),r=t.getParentNode(1),o=s!==n.body&&("if"===n.kind||"while"===n.kind||"switch"===n.kind||"do"===n.kind),h=function t(e,i,s,n,r){let o=[];const h=e.getValue();if("bin"===h.kind){Pr(h.type,h.left.type)?o=o.concat(e.call((e=>t(e,i,s,!0,r)),"left")):o.push(e.call(i,"left"));const a=mo(h),c=ur(a?[h.type," ",e.call(i,"right")]:[h.type,pr,e.call(i,"right")]),l=e.getParentNode(),_=!(r&&["||","&&"].includes(h.type))&&zr(l)!==zr(h)&&zr(h.left)!==zr(h)&&zr(h.right)!==zr(h),u=Zr(h.left)||"bin"===h.left.kind&&Zr(h.left.right);o.push(u?"":" ",_?Tr(c):c),n&&h.comments&&(o=nr.printAllComments(e,(()=>ur(o)),s))}else o.push(e.call(i));return o}(t,i,e,!1,o);if(o)return ur(h);if("unary"===n.kind||Vr(n)&&"offsetlookup"!==n.kind)return Tr(ur([Er(ur([Ar,ur(h)])),Ar]));const a=s!==n.body&&"for"===n.kind||"retif"===n.kind&&r&&"return"!==r.kind,c=["assign","property","constant","staticvariable","entry"].includes(n.kind),l="bin"===s.left.kind&&Pr(s.type,s.left.type);if(a||mo(s)&&!l||!mo(s)&&c)return Tr(ur(h));const _=ur(h.slice(1));return Tr(ur([h.length>0?h[0]:"",Er(_)]))}case"retif":{const e=[],n=t.getParentNode();let r,o=0;do{r=t.getParentNode(o),o++}while(r&&"retif"===r.kind);const h=r||n,a="bin"===s.falseExpr.kind?Er(t.call(i,"falseExpr")):t.call(i,"falseExpr"),c=ur([s.trueExpr?pr:" ","?",s.trueExpr?ur([" ","bin"===s.trueExpr.kind?Er(t.call(i,"trueExpr")):t.call(i,"trueExpr"),pr]):"",":",s.trueExpr?ur([" ",a]):ur([Eo(s.falseExpr)?" ":pr,a])]);e.push(c);const l=t=>n===h?Tr(t):t,_=t.getParentNode(1),u="cast"===n.kind&&_?_:n,d=["propertylookup","nullsafepropertylookup","staticlookup"].includes(u.kind),p=t.call(i,"test");if(!s.trueExpr){const t=ur([p,"bin"===u.kind||["print","echo","return","include"].includes(h.kind)?Er(ur(e)):ur(e)]);return"call"===u.kind&&u.what===s||"unary"===u.kind||Vr(u)&&"offsetlookup"!==u.kind?Tr(ur([Er(ur([Ar,t])),Ar])):l(t)}return l(ur(["retif"===s.test.kind?Er(p):p,Er(ur(e)),d?Ar:""]))}case"boolean":return s.value?"true":"false";case"number":return Dr(s.value);case"string":{if("encapsedpart"===t.getParentNode().kind){const i=t.getParentNode(1);let n=0;const r=oo(e.phpVersion,"7.3");let o=gr;if("heredoc"===i.type){o=r?yr:gr;const t=i.raw.split(/\r?\n/g);n=t[t.length-1].search(/\S/),-1===n&&(n=t[t.length-2].search(/\S/))}return dr(o,s.raw.split(/\r?\n/g).map(((t,e)=>e>0||0===s.loc.start.column?t.substring(n):t)))}const i=Kr(s,e)?'"':"'";let n=s.raw;return"b"===s.raw[0]&&(n=n.slice(1)),['"',"'"].includes(n[0])&&(n=n.substr(1)),['"',"'"].includes(n[n.length-1])&&(n=n.substr(0,n.length-1)),ur(["b"===s.raw[0]?"b":"",i,dr(gr,n.split(/\r?\n/g)),i])}case"uniontype":return Tr(ur(t.map(((e,s)=>ur(0===s?[t.call(i)]:["|",t.call(i)])),"types")));case"encapsedpart":{const e="simple"===s.syntax&&s.curly||"complex"===s.syntax?ur([s.curly?"$":"","{"]):"",n="simple"===s.syntax&&s.curly||"complex"===s.syntax?"}":"";return ur([e,t.call(i,"expression"),n])}case"encapsed":switch(s.type){case"string":case"shell":case"heredoc":{const n=oo(e.phpVersion,"7.3")?yr:gr;return ur([yo(s),"heredoc"===s.type?n:"",ur(t.map(i,"value")),yo(s,{opening:!1}),"heredoc"===s.type&&Gr(t)?yr:""])}default:return"Have not implemented kind ".concat(s.type," yet.")}case"inline":return dr(gr,s.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(/\r?\n/g));case"magic":return s.value;case"nowdoc":{const i=oo(e.phpVersion,"7.3")?yr:gr;return ur(["<<<'",s.label,"'",i,dr(i,s.value.split(/\r?\n/g)),i,s.label,Gr(t)?yr:""])}case"name":return ur(["rn"===s.resolution?"namespace\\":"",s.name]);case"literal":return t.call(i,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return s.name;case"nullkeyword":return"null";case"identifier":return"method"===t.getParentNode().kind&&(s.name=so(s.name)),t.call(i,"name");case"match":{const e=t.map(((t,e)=>{const s=null===t.getValue().conds?"default":ur(t.map(((t,e)=>Tr(ur(e>0?[",",pr,i(t)]:[i(t)]))),"conds")),n=t.call(i,"body");return ur(e>0?[", ",pr,s," => ",n]:[pr,s," => ",n])}),"arms");return Tr(ur(["match (",Tr(ur([Ar,Er(ur([t.call(i,"cond")])),Ar])),") {",Er(ur(e))," ",Ar,"}"]))}case"noop":return s.comments?nr.printComments(t.getValue().comments,e):"";case"namedargument":return ur([s.name,": ",t.call(i,"value")]);default:return"Have not implemented kind ".concat(s.kind," yet.")}}(t,e,i),r=[],o=lr(t);return o&&r.unshift("("),r.push(n),o&&r.push(")"),wr(t)&&r.push(";"),Br(t)&&r.push(yr),ur(r)},Do=function(t,e){if(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"].forEach((t=>{delete e[t]})),"string"===t.kind&&delete e.isDoubleQuote,["array","list"].includes(t.kind)&&delete e.shortForm,"inline"===t.kind){if(t.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;e.value=e.value.replace(/\r\n?|\n/g,"")}if(("continue"===t.kind||"break"===t.kind)&&t.level){const{level:t}=e;"number"===t.kind&&(e.level="1"===t.value?null:t)}if("block"===t.kind&&1===t.children.length&&"block"===t.children[0].kind)for(;"block"===e.children[0].kind;)e.children=e.children[0].children;if("number"===t.kind&&(e.value=Cn.printNumber(t.value)),["foreach","for","if","while","do"].includes(t.kind)&&(t.body&&"block"!==t.body.kind?e.body={kind:"block",children:[e.body]}:e.body=e.body?e.body:null,t.alternate&&"block"!==t.alternate.kind?e.alternate={kind:"block",children:[e.alternate]}:e.alternate=e.alternate?e.alternate:null),"usegroup"===t.kind&&"string"==typeof t.name&&(e.name=e.name.replace(/^\\/,"")),"useitem"===t.kind&&(e.name=e.name.replace(/^\\/,"")),"method"===t.kind&&"identifier"===t.name.kind&&(e.name.name=Cn.normalizeMagicMethodName(e.name.name)),"noop"===t.kind)return null};const Po="PHP";var Uo={phpVersion:{since:"0.13.0",category:Po,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"}]},trailingCommaPHP:{since:"0.0.0",category:Po,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:Po,type:"choice",default:"psr-2",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"Use PSR-2 brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}};const Bo=(t,e,i,s)=>{if("length"===i||"prototype"===i)return;if("arguments"===i||"caller"===i)return;const n=Object.getOwnPropertyDescriptor(t,i),r=Object.getOwnPropertyDescriptor(e,i);!Mo(n,r)&&s||Object.defineProperty(t,i,r)},Mo=function(t,e){return void 0===t||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},Fo=(t,e)=>{const i=Object.getPrototypeOf(e);i!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,i)},Ho=(t,e)=>"/* Wrapped ".concat(t,"*/\n").concat(e),Go=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Vo=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Wo=(t,e,i)=>{const s=""===i?"":"with ".concat(i.trim(),"() "),n=Ho.bind(null,s,e.toString());Object.defineProperty(n,"name",Vo),Object.defineProperty(t,"toString",{...Go,value:n})};var Qo=function(t,e){let{ignoreNonConfigurable:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:s}=t;for(const s of Reflect.ownKeys(e))Bo(t,e,s,i);return Fo(t,e),Wo(t,e,s),t},Yo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function jo(t){return t&&t.default||t}var $o,zo=()=>{const t={};return t.promise=new Promise(((e,i)=>{t.resolve=e,t.reject=i})),t},Ko=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var i=Yo&&Yo.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function h(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){t.done?n(t.value):new i((function(e){e(t.value)})).then(o,h)}a((s=s.apply(t,e||[])).next())}))},s=Yo&&Yo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(zo);function r(t){let e,s,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge";const h=()=>i(this,void 0,void 0,(function*(){if(void 0!==e)return;const h=h=>i(this,void 0,void 0,(function*(){r=n.default();const i=h[1][o]-Date.now();return i<=0?(t.delete(h[0]),void r.resolve()):(e=h[0],s=setTimeout((()=>{t.delete(h[0]),r&&r.resolve()}),i),"function"==typeof s.unref&&s.unref(),r.promise)}));try{for(const e of t)yield h(e)}catch(t){}e=void 0})),a=()=>{e=void 0,void 0!==s&&(clearTimeout(s),s=void 0),void 0!==r&&(r.reject(void 0),r=void 0)},c=t.set.bind(t);return t.set=(i,s)=>{t.has(i)&&t.delete(i);const n=c(i,s);return e&&e===i&&a(),h(),n},h(),t}e.default=r,t.exports=r,t.exports.default=r}));($o=Ko)&&$o.__esModule&&Object.prototype.hasOwnProperty.call($o,"default")&&$o.default;var Xo=Ko;const Jo=new WeakMap,qo=new WeakMap,Zo=function(t){let{cacheKey:e,cache:i=new Map,maxAge:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"==typeof s&&Xo(i);const n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const h=e?e(r):r[0],a=i.get(h);if(a)return a.data;const c=t.apply(this,r);return i.set(h,{data:c,maxAge:s?Date.now()+s:Number.POSITIVE_INFINITY}),c};return Qo(n,t,{ignoreNonConfigurable:!0}),qo.set(n,i),n};Zo.decorator=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e,i,s)=>{const n=e[i];if("function"!=typeof n)throw new TypeError("The decorated value must be a function");delete s.value,delete s.writable,s.get=function(){if(!Jo.has(this)){const e=Zo(n,t);return Jo.set(this,e),e}return Jo.get(this)}}},Zo.clear=t=>{const e=qo.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if("function"!=typeof e.clear)throw new TypeError("The cache Map can't be cleared!");e.clear()};const eh=/@prettier|@format/,th=Zo((t=>{const e=nn(t),[i]=e.children,[s]=e.comments.filter((t=>"commentblock"===t.kind));if(i&&s&&s.loc.start.line<i.loc.start.line)return s}));var ih={hasPragma:function(t){if(!eh.test(t))return!1;const e=th(t);if(e){const{value:t}=e;return eh.test(t)}return!1},insertPragma:function(t){const e=th(t);if(e){const{start:{offset:i},end:{offset:s}}=e.loc,n=t.substring(0,i),r=t.substring(s);return"".concat(n).concat(function(t,e){let i=t.split(/\r?\n/g);if(1===i.length){const[,t]=/\/*\*\*(.*)\*\//.exec(i[0]);i=["/**"," * ".concat(t.trim())," */"]}const s=i.findIndex((t=>/@\S/.test(t)))||1;return i.splice(s,0," * @format"),i.join(function(t){const e=t.indexOf("\n");return e>=0&&"\r"===t.charAt(e-1)?"\r\n":"\n"}(e))}(e.value,t)).concat(r)}const i="<?php";if(!t.startsWith(i))return t;const s=i.length,n=t.substring(0,s),r=t.substring(s);return"".concat(n,"\n/** \n * @format \n */\n").concat(r)}},sh="programming",nh="text.html.php",rh="application/x-httpd-php",oh="#4F5D95",hh=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],ah=[".php",".php_cs",".php_cs.dist","Phakefile"],ch=["php"],lh=["inc"],_h={name:"PHP",type:sh,tmScope:nh,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:rh,color:oh,extensions:hh,filenames:ah,interpreters:ch,aliases:lh,languageId:272},uh=Object.freeze({__proto__:null,name:"PHP",type:sh,tmScope:nh,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:rh,color:oh,extensions:hh,filenames:ah,interpreters:ch,aliases:lh,languageId:272,default:_h}),dh="HTML+PHP",ph="markup",fh="text.html.php",Th="HTML",kh=[".phtml"],Eh="application/x-httpd-php",mh={name:dh,type:ph,tmScope:fh,group:Th,extensions:kh,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Eh,languageId:151},xh=Object.freeze({__proto__:null,name:dh,type:ph,tmScope:fh,group:Th,extensions:kh,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Eh,languageId:151,default:mh}),yh=jo(uh),Ah=jo(xh);const{join:gh,hardline:Nh}=s.default.doc.builders,{hasPragma:Ch,insertPragma:Sh}=ih;function Lh(t,e){let{extend:i,override:s}=e;const n={};for(const e in t)n["languageId"===e?"linguistLanguageId":e]=t[e];if(i)for(const t in i)n[t]=(n[t]||[]).concat(i[t]);for(const t in s)n[t]=s[t];return n}const Oh=[Lh(yh,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),Lh(Ah,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],Ih=t=>e=>e.loc&&e.loc[t]&&e.loc[t].offset,bh={php:{parse:nn,astFormat:"php",locStart:Ih("start"),locEnd:Ih("end"),hasPragma:Ch}};var Rh={languages:Oh,printers:{php:{print:wo,insertPragma:Sh,massageAstNode:Do,getCommentChildNodes:nr.getCommentChildNodes,canAttachComment:nr.canAttachComment,isBlockComment:nr.isBlockComment,handleComments:{ownLine:nr.handleOwnLineComment,endOfLine:nr.handleEndOfLineComment,remaining:nr.handleRemainingComment},willPrintOwnComments(t){const e=t.getValue();return e&&"noop"===e.kind},printComment(t){const e=t.getValue();switch(e.kind){case"commentblock":{if(!e.value.includes("\n"))return e.value;const t=e.value.split(/\r?\n/g);return t.slice(1,t.length-1).every((t=>"*"===t.trim()[0]))?gh(Nh,t.map(((e,i)=>(i>0?" ":"")+(i<t.length-1?e.trim():e.trimLeft())))):e.value}case"commentline":return e.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(e)))}},hasPrettierIgnore(t){const e=t=>t.value.includes("prettier-ignore")&&!t.value.includes("prettier-ignore-start")&&!t.value.includes("prettier-ignore-end"),i=t.getParentNode(),s=t.getNode();return s&&"classconstant"!==s.kind&&s.comments&&s.comments.length>0&&s.comments.some(e)||s&&"constant"===s.kind&&i&&"classconstant"===i.kind&&i.comments&&i.comments.length>0&&i.comments.some(e)}}},parsers:bh,options:Uo,defaultOptions:{tabWidth:4}},vh=Rh.languages,wh=Rh.printers,Dh=Rh.parsers,Ph=Rh.options,Uh=Rh.defaultOptions;e.default=Rh,e.defaultOptions=Uh,e.languages=vh,e.options=Ph,e.parsers=Dh,e.printers=wh,Object.defineProperty(e,"__esModule",{value:!0})}(e,n(400))}).call(this,n(88))}}]);